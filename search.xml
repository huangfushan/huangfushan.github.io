<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>é€šè¿‡ Github Webhooks åšç½‘ç«™çš„è‡ªåŠ¨åŒ–éƒ¨ç½²</title>
      <link href="2021/08/12/github-webhooks/"/>
      <url>2021/08/12/github-webhooks/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p><a href="https://docs.github.com/cn/developers/webhooks-and-events/webhooks/about-webhooks">Github Webhooks</a> å…è®¸æˆ‘ä»¬æ„å»ºæˆ–è®¾ç½®é›†æˆï¼Œä»¥è®¢é˜… <a href="https://docs.github.com/en/developers/webhooks-and-events/webhooks/webhook-events-and-payloads">GitHub.com</a> ä¸Šçš„æŸäº›äº‹ä»¶ã€‚ å½“è§¦å‘å…¶ä¸­æŸä¸ªäº‹ä»¶æ—¶ï¼Œå°†å‘ Webhooks é…ç½® Paloyd URL å‘é€ HTTP POST è¯·æ±‚ã€‚å¯ç”¨äºæ›´æ–°å¤–éƒ¨è®®é¢˜è·Ÿè¸ªå™¨ã€è§¦å‘ CI æ„å»ºã€æ›´æ–°å¤‡ä»½é•œåƒï¼Œç”šè‡³éƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨ã€‚</p></blockquote><h4 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h4><ul><li>ä¸ªäººåšå®¢<br>å¦‚ï¼š ä»£ç æäº¤è¿œç¨‹ä»“åº“ =&gt; è§¦å‘ Github Webhooks =&gt; æœåŠ¡å™¨è§¦å‘å™¨ç›‘å¬ =&gt; åŒæ­¥æ›´æ–°åšå®¢</li></ul><p>å› æœ¬æ–‡é‡ç‚¹åœ¨ä»‹ç» <code>webhooks</code> çš„è‡ªåŠ¨åŒ–åŠŸèƒ½ï¼Œæˆ‘ä»¬åœ¨æ­¤åœºæ™¯çš„åŸºç¡€ä¸Šï¼Œç®€åŒ–ä¸€ä¸‹æ­¥éª¤ï¼Œå°†<code>è¿œç¨‹æœåŠ¡å™¨</code>æ”¹ä¸º<code>æœ¬åœ°æœåŠ¡å™¨</code>ã€‚<br>å¦‚ï¼š<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ä»£ç æäº¤è¿œç¨‹ä»“åº“ -&gt; è§¦å‘ Github Webhooks -&gt; <u>æœ¬åœ°æœåŠ¡è§¦å‘å™¨ç›‘å¬</u> -&gt; æ‹‰å–æœ€æ–°ä»£ç </p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="é…ç½®-Shell-è„šæœ¬"><a href="#é…ç½®-Shell-è„šæœ¬" class="headerlink" title="é…ç½® Shell è„šæœ¬"></a>é…ç½® Shell è„šæœ¬</h3><ul><li>åˆ›å»º blog_deploy.sh æ–‡ä»¶<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">LOG_FILE&#x3D;&quot;&#x2F;Users&#x2F;huangfushan&#x2F;project&#x2F;code&#x2F;blog_deploy.log&quot;</span><br><span class="line"></span><br><span class="line">date &gt;&gt; &quot;$LOG_FILE&quot;</span><br><span class="line">echo &quot;Start deployment&quot; &gt;&gt;&quot;$LOG_FILE&quot;</span><br><span class="line">echo &quot;pulling source code...&quot; &gt;&gt; &quot;$LOG_FILE&quot;</span><br><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;huangfushan&#x2F;github-webhooks.git &#x2F;Users&#x2F;huangfushan&#x2F;project&#x2F;code&#x2F;huangfushan.github.io</span><br><span class="line">echo &quot;Finished.&quot; &gt;&gt;&quot;$LOG_FILE&quot;</span><br><span class="line">echo &gt;&gt; $LOG_FILE</span><br></pre></td></tr></table></figure>å¤§è‡´æ„æ€æ˜¯ï¼Œå½“æ¥æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œä¼šåœ¨æœ¬åœ°æŒ‡å®šç›®å½•ä¸‹ï¼Œæ‹‰å–ä¸€ä»½æœ€æ–°ä»£ç ï¼Œæ¨¡æ‹Ÿâ€œæœåŠ¡å™¨åŒæ­¥æ›´æ–°åšå®¢â€çš„æ•ˆæœã€‚</li></ul><h3 id="æ­å»ºæœ¬åœ°æœåŠ¡å™¨"><a href="#æ­å»ºæœ¬åœ°æœåŠ¡å™¨" class="headerlink" title="æ­å»ºæœ¬åœ°æœåŠ¡å™¨"></a>æ­å»ºæœ¬åœ°æœåŠ¡å™¨</h3><ul><li><p>åˆ›å»º index.js æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">var http &#x3D; require(&#39;http&#39;)</span><br><span class="line"></span><br><span class="line">const run_cmd &#x3D; (cmd, args, callback) &#x3D;&gt; &#123;</span><br><span class="line">  var spawn &#x3D; require(&#39;child_process&#39;).spawn;</span><br><span class="line">  var child &#x3D; spawn(cmd, args);</span><br><span class="line">  var resp &#x3D; &quot;&quot;;</span><br><span class="line"></span><br><span class="line">  child.stdout.on(&#39;data&#39;, function(buffer) &#123; resp +&#x3D; buffer.toString(); &#125;);</span><br><span class="line">  child.stdout.on(&#39;end&#39;, function() &#123; callback(resp) &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http.createServer(function(req, res) &#123;</span><br><span class="line">  if (req.url &#x3D;&#x3D;&#x3D; &#39;&#x2F;webhooks&#39;) &#123;</span><br><span class="line">    console.log(&#39;ç›‘å¬åˆ°æ¥å£è¯·æ±‚&#39;);</span><br><span class="line">    run_cmd(&#39;sh&#39;, [&#39;.&#x2F;blog_deploy.sh&#39;], () &#x3D;&gt; console.log(1, &#39;run sucess&#39;));</span><br><span class="line">  &#125;</span><br><span class="line">  res.statusCode &#x3D; 200;</span><br><span class="line">  res.end(&#39;hello world&#39;);</span><br><span class="line">&#125;).listen(8080)</span><br><span class="line"></span><br><span class="line">console.log(&#39;http:&#x2F;&#x2F;localhost:8080&#39;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šä»£ç ï¼Œå½“ HTTP è¯·æ±‚æ¥å£ä¸º <code>/webhooks</code> æ—¶ï¼Œæ‰§è¡ŒåŒæ­¥èµ„æºæ“ä½œã€‚å½“ç„¶ï¼Œè¿™é‡Œä»…ä»…æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œå®é™…åœºæ™¯ä¸­éœ€è¦æ ¡éªŒ <code>Method</code>ï¼Œ<code>è¯·æ±‚ä½“</code>ï¼Œ<code>Secret ç­¾å</code> ç­‰ä¿¡æ¯</p></li><li><p>æ‰§è¡Œä»£ç ï¼Œå¯åŠ¨ç«¯å£ä¸º 8080 çš„æœ¬åœ°æœåŠ¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node index.js</span><br></pre></td></tr></table></figure></li></ul><!-- - å½“æœåŠ¡æ¥æ”¶åˆ°æ¥è‡ª http://localhost:8080/webhooks çš„è¯·æ±‚æ—¶ï¼Œæ‹‰å–è¿œç¨‹æœ€æ–°ä»£ç ã€‚ --><ul><li>é€šè¿‡ <code>ngrok</code> å®ç°å†…ç½‘ç©¿é€æœåŠ¡<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install ngrok -g</span><br><span class="line">ngrok http localhost:8080</span><br></pre></td></tr></table></figure><img src="https://hfscdn.vercel.app/blog/image/ngrok.jpg" alt="img"></li></ul><p>å¦‚ä¸Šå›¾ï¼Œæœ¬åœ° <code>localhost:8080</code> æŒ‡å‘äº† <code>http://8ffcaa193540.ngrok.io</code>ï¼Œè¿™ä¹ˆåšçš„ç›®å‰æ˜¯ä¸ºäº†å‘äº’è”ç½‘æš´éœ²æœ¬åœ°ä¸»æœºï¼Œæ”¯æŒå¤–ç½‘è®¿é—®ï¼Œä¹Ÿä¸ºäº†ä¸‹ä¸€æ­¥ Webhooks çš„é…ç½®ä½¿ç”¨ï¼Œã€‚</p><p>å½“ç„¶ï¼Œé™¤äº†<code>ngrok</code>ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>nginx</code> å°† å½“å‰æœåŠ¡åå‘ä»£ç†åˆ°æŒ‡å®šå¤–ç½‘åœ°å€çš„ 80 ç«¯å£ã€‚</p><h3 id="é…ç½®-Github-Webhooks"><a href="#é…ç½®-Github-Webhooks" class="headerlink" title="é…ç½® Github Webhooks"></a>é…ç½® Github Webhooks</h3><ul><li><p>åˆ›å»ºä¸€ä¸ª Github ä»“åº“ï¼Œå¦‚ <code>github-webhooks</code>ã€‚</p></li><li><p>åˆ° <code>github-webhooks</code> ä¸‹ Settingsï¼Œé…ç½® Github Webhooks ç›‘å¬ï¼Œå…¶ä¸­</p><ul><li><p><code>Payload URL</code>ï¼šç”¨æ¥æ¥æ”¶è¯·æ±‚æ¥å£ï¼Œgithub æ¥æ”¶åˆ° Repo çš„æ“ä½œæŒ‡ä»¤æ—¶ï¼Œä¼šå¾€è¿™ä¸ªæ¥å£å‘é€ä¸€ä¸ªå¸¦æœ‰æè¿°æ“ä½œå†…å®¹çš„ Post è¯·æ±‚ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å¡«å†™ç¬¬äºŒæ­¥æš´éœ²çš„å¤–ç½‘åœ°å€ï¼Œå¦‚ <code>http://8ffcaa193540.ngrok.io/webhooks</code>ï¼Œå®é™…æ•ˆæœ Github å°†å¾€æœ¬åœ° 8080 ç«¯å£æœåŠ¡å‘é€ä¸€ä¸ªæ¥å£ä¸º <code>/webhooks</code> çš„ HTTP è¯·æ±‚ã€‚</p></li><li><p><code>Content Type</code>ï¼šä¸¤ç§ä¼ å‚æ–¹å¼ï¼Œapplication/json å’Œ application/x-www-form-urlencoded</p></li><li><p><code>Secret</code>ï¼šä»¤ç‰Œæ ¡éªŒï¼ŒåŠ ä¸Šè¿™ä¸ªå­—æ®µä¹‹åï¼Œæ¥è‡ª Github çš„è¯·æ±‚ HTTP è¯·æ±‚å¤´ä¼šæºå¸¦ X-Hub-Signature çš„åŠ å¯†ç­¾åï¼Œé˜²æ­¢å…¶ä»–æ¶æ„è¯·æ±‚è§¦å‘ã€‚</p></li></ul></li></ul><p><img src="https://hfscdn.vercel.app/blog/image/dk-github-webhooks.png" alt="img"></p><p><img src="https://hfscdn.vercel.app/blog/image/github-webhooks-add.jpg" alt="img"></p><h3 id="è§¦å‘-Github-Webhooks"><a href="#è§¦å‘-Github-Webhooks" class="headerlink" title="è§¦å‘ Github Webhooks"></a>è§¦å‘ Github Webhooks</h3><ul><li>å¾€ <code>github-webhooks</code> è¿œç¨‹ä»“åº“æäº¤ä¸€ä¸ª <code>commit</code>ï¼ŒæŸ¥çœ‹æ˜¯å¦åœ¨æœ¬åœ°è§¦å‘æ‰§è¡Œ shell è„šæœ¬</li><li>æŸ¥çœ‹ Recent Deliverles æ—¥å¿—</li></ul><p><img src="https://hfscdn.vercel.app/blog/image/github-webhooks-trigger.jpg" alt="img"></p><h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><blockquote><p>æ­å»ºæœ¬åœ°æœåŠ¡å™¨é‚£ä¸€æ­¥ï¼Œéƒ¨åˆ†ç½‘å‹ä½¿ç”¨ <code>github-webhook-handler</code> æ’ä»¶ï¼Œæ¥å¤„ç† Github å‘é€è¿‡æ¥çš„ HTTP è¯·æ±‚ï¼Œå¹¶ç›‘å¬å„ç±»äº‹ä»¶ï¼Œå¦‚ <code>push</code>, <code>issues</code>ç­‰ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var http &#x3D; require(&#39;http&#39;)</span><br><span class="line">var createHandler &#x3D; require(&#39;github-webhook-handler&#39;)</span><br><span class="line">var handler &#x3D; createHandler(&#123; path: &#39;&#x2F;webhooks&#39;, secret: &#39;myHashSecret&#39; &#125;);</span><br><span class="line">&#x2F;&#x2F; ä¸Šé¢çš„ secret ä¿æŒå’Œ GitHub åå°è®¾ç½®çš„ä¸€è‡´</span><br><span class="line"> </span><br><span class="line">http.createServer(function (req, res) &#123;</span><br><span class="line">  handler(req, res, function (err) &#123;</span><br><span class="line">    res.statusCode &#x3D; 404</span><br><span class="line">    res.end(&#39;no such location&#39;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).listen(8080)</span><br><span class="line"> </span><br><span class="line">handler.on(&#39;error&#39;, function (err) &#123;</span><br><span class="line">  console.error(&#39;å‘ç”Ÿé”™è¯¯:&#39;, err.message)</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line">handler.on(&#39;push&#39;, function (event) &#123;</span><br><span class="line">  console.log(&#39;æ¥æ”¶åˆ°pushè¯·æ±‚&#39;ï¼‰</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œè¯¥æ’ä»¶å·²ç»å¸®æˆ‘ä»¬å¤„ç†äº†ï¼Œ<code>path</code>ï¼Œ<code>method</code>ï¼Œ<code>Secret ä»¤ç‰Œç­¾å</code>ç­‰ç­‰æ ¡éªŒï¼Œå¹¶é’ˆå¯¹ Github å„ç§äº‹ä»¶ç›‘å¬ã€‚ä½†æ˜¯ç¾ä¸­ä¸è¶³çš„æ˜¯ï¼Œè¯¥æ’ä»¶ä¸æ”¯æŒ <code>application/x-www-form-urlencoded</code> çš„è¯·æ±‚æ–¹å¼ï¼Œä»…æ”¯æŒ JSON æ ¼å¼ã€‚</p><p>åç»­æˆ‘ä¼šå¦æ‰¾æ—¶é—´ï¼Œäº‰å–è§£å†³ä¸Šè¯‰æ’ä»¶å­˜åœ¨çš„é—®é¢˜ã€‚</p><p>github æ›´å¤šäº‹ä»¶ï¼Œè§ <a href="https://docs.github.com/en/developers/webhooks-and-events/webhooks/webhook-events-and-payloads">Webhooks events &amp; Payloads</a>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•™ç¨‹ </tag>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ï¼ˆASTï¼‰æŠ½è±¡è¯­æ³•æ•° -- babel æ’ä»¶</title>
      <link href="2021/08/10/babel/"/>
      <url>2021/08/10/babel/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p> <code>babel</code>æ˜¯ <code>Javascript</code> çš„ç¼–è¯‘è¯­æ³•å™¨ï¼Œç¡®åˆ‡æ¥è¯´æ˜¯æºç åˆ°æºç çš„ç¼–è¯‘å™¨ï¼Œé€šå¸¸ä¹Ÿå«åšâ€œè½¬æ¢ç¼–è¯‘å™¨ï¼ˆtranspilerï¼‰ã€‚æ„æ€æ˜¯è¯´ä½ ä¸º Babel æä¾›ä¸€äº› JavaScript ä»£ç ï¼ŒBabel æ›´æ”¹è¿™äº›ä»£ç ï¼Œç„¶åè¿”å›ç»™ä½ æ–°ç”Ÿæˆçš„ä»£ç ã€‚</p><h2 id="æŠ½è±¡è¯­æ³•æ•°ï¼ˆASTï¼‰"><a href="#æŠ½è±¡è¯­æ³•æ•°ï¼ˆASTï¼‰" class="headerlink" title="æŠ½è±¡è¯­æ³•æ•°ï¼ˆASTï¼‰"></a>æŠ½è±¡è¯­æ³•æ•°ï¼ˆASTï¼‰</h2><p>è¿™ä¸ªå¤„ç†è¿‡ç¨‹ä¸­çš„æ¯ä¸€æ­¥éƒ½æ¶‰åŠåˆ°åˆ›å»ºæˆ–æ˜¯æ“ä½œæŠ½è±¡è¯­æ³•æ ‘ï¼Œäº¦ç§° ASTã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function square(n) &#123;</span><br><span class="line">  return n * n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç¨‹åºå¯ä»¥è¢«è¡¨ç¤ºæˆå¦‚ä¸‹çš„ä¸€æ£µæ ‘ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">- FunctionDeclaration:</span><br><span class="line">  - id:</span><br><span class="line">    - Identifier:</span><br><span class="line">      - name: square</span><br><span class="line">  - params [1]</span><br><span class="line">    - Identifier</span><br><span class="line">      - name: n</span><br><span class="line">  - body:</span><br><span class="line">    - BlockStatement</span><br><span class="line">      - body [1]</span><br><span class="line">        - ReturnStatement</span><br><span class="line">          - argument</span><br><span class="line">            - BinaryExpression</span><br><span class="line">              - operator: *</span><br><span class="line">              - left</span><br><span class="line">                - Identifier</span><br><span class="line">                  - name: n</span><br><span class="line">              - right</span><br><span class="line">                - Identifier</span><br><span class="line">                  - name: n</span><br></pre></td></tr></table></figure><p>æˆ–æ˜¯å¦‚ä¸‹æ‰€ç¤ºçš„ JavaScript Objectï¼ˆå¯¹è±¡ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  type: &quot;FunctionDeclaration&quot;,</span><br><span class="line">  id: &#123;</span><br><span class="line">    type: &quot;Identifier&quot;,</span><br><span class="line">    name: &quot;square&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  params: [&#123;</span><br><span class="line">    type: &quot;Identifier&quot;,</span><br><span class="line">    name: &quot;n&quot;</span><br><span class="line">  &#125;],</span><br><span class="line">  body: &#123;</span><br><span class="line">    type: &quot;BlockStatement&quot;,</span><br><span class="line">    body: [&#123;</span><br><span class="line">      type: &quot;ReturnStatement&quot;,</span><br><span class="line">      argument: &#123;</span><br><span class="line">        type: &quot;BinaryExpression&quot;,</span><br><span class="line">        operator: &quot;*&quot;,</span><br><span class="line">        left: &#123;</span><br><span class="line">          type: &quot;Identifier&quot;,</span><br><span class="line">          name: &quot;n&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        right: &#123;</span><br><span class="line">          type: &quot;Identifier&quot;,</span><br><span class="line">          name: &quot;n&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ ä¼šç•™æ„åˆ° AST çš„æ¯ä¸€å±‚éƒ½æ‹¥æœ‰ç›¸åŒçš„ç»“æ„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  type: &quot;FunctionDeclaration&quot;,</span><br><span class="line">  id: &#123;...&#125;,</span><br><span class="line">  params: [...],</span><br><span class="line">  body: &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  type: &quot;Identifier&quot;,</span><br><span class="line">  name: ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  type: &quot;BinaryExpression&quot;,</span><br><span class="line">  operator: ...,</span><br><span class="line">  left: &#123;...&#125;,</span><br><span class="line">  right: &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šå‡ºäºç®€åŒ–çš„ç›®çš„ç§»é™¤äº†æŸäº›å±æ€§</p></blockquote><p>è¿™æ ·çš„æ¯ä¸€å±‚ç»“æ„ä¹Ÿè¢«å«åš èŠ‚ç‚¹ï¼ˆNodeï¼‰ã€‚ ä¸€ä¸ª AST å¯ä»¥ç”±å•ä¸€çš„èŠ‚ç‚¹æˆ–æ˜¯æˆç™¾ä¸Šåƒä¸ªèŠ‚ç‚¹æ„æˆã€‚</p><h2 id="Babel-çš„å¤„ç†æ­¥éª¤"><a href="#Babel-çš„å¤„ç†æ­¥éª¤" class="headerlink" title="Babel çš„å¤„ç†æ­¥éª¤"></a>Babel çš„å¤„ç†æ­¥éª¤</h2><p>Babel çš„ä¸‰ä¸ªä¸»è¦å¤„ç†æ­¥éª¤åˆ†åˆ«æ˜¯ï¼š <strong>è§£æï¼ˆparseï¼‰</strong>ï¼Œ<strong>è½¬æ¢ï¼ˆtransformï¼‰</strong>ï¼Œ<strong>ç”Ÿæˆï¼ˆgenerateï¼‰</strong>ã€‚</p><h3 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h3><p>è§£ææ­¥éª¤æ¥æ”¶ä»£ç å¹¶è¾“å‡º ASTã€‚ è¿™ä¸ªæ­¥éª¤åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š**è¯æ³•åˆ†æï¼ˆLexical Analysisï¼‰ **å’Œ è¯­æ³•åˆ†æï¼ˆSyntactic Analysisï¼‰ã€‚</p><h4 id="è¯æ³•åˆ†æ"><a href="#è¯æ³•åˆ†æ" class="headerlink" title="è¯æ³•åˆ†æ"></a>è¯æ³•åˆ†æ</h4><p>è¯æ³•åˆ†æé˜¶æ®µæŠŠå­—ç¬¦ä¸²å½¢å¼çš„ä»£ç è½¬æ¢ä¸º ä»¤ç‰Œï¼ˆtokensï¼‰ æµã€‚<br>ä½ å¯ä»¥æŠŠä»¤ç‰Œçœ‹ä½œæ˜¯ä¸€ä¸ªæ‰å¹³çš„è¯­æ³•ç‰‡æ®µæ•°ç»„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n * n;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123; type: &#123; ... &#125;, value: &quot;n&quot;, start: 0, end: 1, loc: &#123; ... &#125; &#125;,</span><br><span class="line">  &#123; type: &#123; ... &#125;, value: &quot;*&quot;, start: 2, end: 3, loc: &#123; ... &#125; &#125;,</span><br><span class="line">  &#123; type: &#123; ... &#125;, value: &quot;n&quot;, start: 4, end: 5, loc: &#123; ... &#125; &#125;,</span><br><span class="line">  ...</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>æ¯ä¸€ä¸ª type æœ‰ä¸€ç»„å±æ€§æ¥æè¿°è¯¥ä»¤ç‰Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  type: &#123;</span><br><span class="line">    label: &#39;name&#39;,</span><br><span class="line">    keyword: undefined,</span><br><span class="line">    beforeExpr: false,</span><br><span class="line">    startsExpr: true,</span><br><span class="line">    rightAssociative: false,</span><br><span class="line">    isLoop: false,</span><br><span class="line">    isAssign: false,</span><br><span class="line">    prefix: false,</span><br><span class="line">    postfix: false,</span><br><span class="line">    binop: null,</span><br><span class="line">    updateContext: null</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å’Œ AST èŠ‚ç‚¹ä¸€æ ·å®ƒä»¬ä¹Ÿæœ‰ startï¼Œendï¼Œloc å±æ€§ã€‚</p><h4 id="è¯­æ³•åˆ†æ"><a href="#è¯­æ³•åˆ†æ" class="headerlink" title="è¯­æ³•åˆ†æ"></a>è¯­æ³•åˆ†æ</h4><p>è¯­æ³•åˆ†æé˜¶æ®µä¼šæŠŠä¸€ä¸ªä»¤ç‰Œæµè½¬æ¢æˆ AST çš„å½¢å¼ã€‚ è¿™ä¸ªé˜¶æ®µä¼šä½¿ç”¨ä»¤ç‰Œä¸­çš„ä¿¡æ¯æŠŠå®ƒä»¬è½¬æ¢æˆä¸€ä¸ª AST çš„è¡¨è¿°ç»“æ„ï¼Œè¿™æ ·æ›´æ˜“äºåç»­çš„æ“ä½œã€‚</p><h3 id="è½¬æ¢"><a href="#è½¬æ¢" class="headerlink" title="è½¬æ¢"></a>è½¬æ¢</h3><p>è½¬æ¢æ­¥éª¤æ¥æ”¶ AST å¹¶å¯¹å…¶éå†ï¼Œåœ¨æ­¤è¿‡ç¨‹å¯¹èŠ‚ç‚¹è¿›è¡Œæ·»åŠ ã€æ›´æ–°ã€åˆ é™¤ç­‰æ“ä½œã€‚è¿™ä¸ªæ˜¯ Babel ç¼–è¯‘å™¨ ä¸­æœ€å¤æ‚çš„è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯æ’ä»¶å°†æ¥è¦ä»‹å…¥å·¥ä½œçš„éƒ¨åˆ†ã€‚</p><h3 id="ç”Ÿæˆ"><a href="#ç”Ÿæˆ" class="headerlink" title="ç”Ÿæˆ"></a>ç”Ÿæˆ</h3><p>ä»£ç ç”Ÿæˆæ­¥éª¤æŠŠæœ€ç»ˆï¼ˆç»è¿‡ä¸€ç³»åˆ—è½¬æ¢åï¼‰çš„ AST è½¬æˆå­—ç¬¦ä¸²å½¢å¼çš„ä»£ç ï¼ŒåŒæ—¶è¿˜ä¼šåˆ›å»º <a href="https://www.html5rocks.com/en/tutorials/developertools/sourcemaps/">æºç æ˜ å°„</a><br>ä»£ç ç”Ÿæˆå…¶å®å¾ˆç®€å•ï¼šæ·±åº¦ä¼˜å…ˆéå†æ•´ä¸ª ASTï¼Œç„¶åæ„å»ºå¯ä»¥è¡¨ç¤ºè½¬æ¢åä»£ç çš„å­—ç¬¦ä¸²ã€‚</p><h2 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h2><p>æƒ³è¦è½¬æ¢ AST ä½ éœ€è¦è¿›è¡Œé€’å½’çš„æ ‘å½¢éå†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> babel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨ commitizen è§„èŒƒ git commit æäº¤è¯´æ˜</title>
      <link href="2021/06/09/commitizen/"/>
      <url>2021/06/09/commitizen/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>Git ä½œä¸ºç›®å‰å¼€æºç¤¾åŒºæœ€ä¸ºç«çƒ­çš„åˆ†å¸ƒå¼ç³»ç»Ÿç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå½“æˆ‘ä»¬åœ¨æäº¤ä»£ç ä¹‹å‰ï¼Œéƒ½æ˜¯éœ€è¦æ·»åŠ  <code>Commit message</code>ï¼ˆæäº¤è¯´æ˜ï¼‰ï¼Œå¦åˆ™å°±ä¸å…è®¸æäº¤ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &quot;hello world&quot;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç çš„ <code>-m</code> å‚æ•°ï¼Œå°±æ˜¯ç”¨æ¥æŒ‡å®š <code>commit message</code>çš„ã€‚</p><p>å¦‚æœä¸€è¡Œä¸å¤Ÿï¼Œå¯ä»¥åªæ‰§è¡Œ <code>git commit</code>ï¼Œå°±ä¼šè·³å‡ºæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè®©ä½ å†™å¤šè¡Œã€‚å¦‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit</span><br></pre></td></tr></table></figure><p>åŸºæœ¬ä¸Šï¼Œä½ å†™ä»€ä¹ˆéƒ½è¡Œã€‚<br><img src="https://hfscdn.vercel.app/blog/image/commitizen-0.png" alt="iamge"></p><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹å¹³æ—¶æäº¤çš„ <code>commmit</code> æ—¥å¿—ï¼Œåªæ˜¯ç®€å•çš„è¯´æ˜æœ¬æ¬¡æäº¤çš„ä¿¡æ¯ï¼Œå¦‚<br><img src="https://hfscdn.vercel.app/blog/image/commitizen-1.png" alt="iamge"></p><p>æˆ‘ä»¬å†æ¥çœ‹ä¸‹å…·æœ‰ä¸€å®šè§„èŒƒæ€§çš„ <code>commit</code> æ—¥å¿—ï¼Œæ˜¯ä¸æ˜¯æ›´åŠ æ¸…æ™°æ˜äº†ï¼Œæœ‰äº†ä¸€å®šçš„è§„èŒƒï¼Œå¯¹æäº¤ç±»å‹åšäº†åŒºåˆ†ã€‚<br><img src="https://hfscdn.vercel.app/blog/image/commitizen-2.png" alt="image"></p><p>ä¸€èˆ¬æ¥è¯´ï¼Œ<code>commit message</code> åº”è¯¥æ¸…æ™°æ˜äº†ï¼Œè¯´æ˜æœ¬æ¬¡æäº¤çš„ç›®çš„ã€‚</p><p>ç›®å‰ï¼Œç¤¾åŒºæœ‰å¤šç§ Commit message çš„å†™æ³•è§„èŒƒã€‚è¿™ç§æ˜¯ <a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0">Angular è§„èŒƒ</a>ï¼Œ<a href="https://zj-git-guide.readthedocs.io/zh_CN/latest/message/Angular%E6%8F%90%E4%BA%A4%E4%BF%A1%E6%81%AF%E8%A7%84%E8%8C%83/">ä¸­æ–‡</a>ã€‚è¿™æ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿çš„å†™æ³•ï¼Œæ˜¯æ¯”è¾ƒåˆç†å’Œç³»ç»ŸåŒ–ï¼Œå¹¶ä¸”æœ‰é…å¥—çš„å·¥å…·ã€‚</p><h1 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h1><ul><li>æä¾›æ›´å¤šçš„å†å²ä¿¡æ¯ï¼Œæ–¹ä¾¿å¿«é€Ÿæµè§ˆã€‚</li><li>å¯ä»¥è¿‡æ»¤æŸäº› <code>commit</code>ï¼ˆæ¯”å¦‚æ–‡æ¡£æ”¹åŠ¨ï¼‰ï¼Œä¾¿äºå¿«é€ŸæŸ¥æ‰¾ä¿¡æ¯ã€‚</li><li>å¯ä»¥ç›´æ¥ä» <code>commit</code> ç”Ÿæˆ <code>Change log</code>ã€‚</li></ul><h2 id="æ ‡å‡†-Commit-Message-è§„èŒƒ"><a href="#æ ‡å‡†-Commit-Message-è§„èŒƒ" class="headerlink" title="æ ‡å‡† Commit Message è§„èŒƒ"></a>æ ‡å‡† Commit Message è§„èŒƒ</h2><h3 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line">&#x2F;&#x2F; ç©ºä¸€è¡Œ</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&#x2F;&#x2F; ç©ºä¸€è¡Œ</span><br><span class="line">&lt;footer&gt;</span><br></pre></td></tr></table></figure><p>æ¯æ¬¡æäº¤å¯ä»¥åŒ…å«é¡µçœ‰(<code>header</code>)ã€æ­£æ–‡(<code>body</code>)å’Œé¡µè„š(<code>footer</code>)ã€‚å…¶ä¸­ï¼Œ<code>Header</code> æ˜¯å¿…éœ€çš„ã€‚</p><p>æ¯æ¬¡æäº¤çš„ä¿¡æ¯ä¸è¶…è¿‡ <code>100</code> ä¸ªå­—ç¬¦ï¼Œå¦‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">commit f477xxxxxxxba558 (HEAD -&gt; master)</span><br><span class="line">Author: huangfushan &lt;xxxxxxxxx@qq.com&gt;</span><br><span class="line">Date:   Fri Jun 4 15:48:29 2021 +0800</span><br><span class="line"></span><br><span class="line">    feat: ğŸ¸ æ·»åŠ æ–°åŠŸèƒ½</span><br><span class="line">    </span><br><span class="line">    æ–°åŠŸèƒ½è¯¦æƒ…ä»‹ç»</span><br><span class="line">    </span><br><span class="line">    BREAKING CHANGE: ğŸ§¨ footer</span><br></pre></td></tr></table></figure><h3 id="Header"><a href="#Header" class="headerlink" title="Header"></a>Header</h3><p> <code>Header</code> éƒ¨åˆ†åªæœ‰ä¸€è¡Œï¼ŒåŒ…æ‹¬ä¸‰ä¸ªå­—æ®µï¼š<code>type</code>ï¼ˆå¿…éœ€ï¼‰ã€<code>scope</code>ï¼ˆå¯é€‰ï¼‰å’Œ <code>subject</code>ï¼ˆå¿…éœ€ï¼‰ã€‚</p><ul><li><code>type</code> ç”¨äºè¯´æ˜ <code>commit</code> çš„ç±»åˆ«<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git cz</span><br><span class="line">? Select the type of change that you&#39;re committing: (Use arrow keys or type to search)</span><br><span class="line">â¯ ğŸ’  test:       Adding missing tests                                    &#x2F;&#x2F; æ·»åŠ ç¼ºå¤±çš„æµ‹è¯•</span><br><span class="line">  ğŸ¸  feat:       A new feature                                           &#x2F;&#x2F; æ–°åŠŸèƒ½ï¼ˆfeatureï¼‰</span><br><span class="line">  ğŸ›  fix:        A bug fix                                               &#x2F;&#x2F; bug ä¿®å¤</span><br><span class="line">  ğŸ¤–  chore:      Build process or auxiliary tool changes                 &#x2F;&#x2F; æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·æ›´æ”¹</span><br><span class="line">  âœï¸  docs:       Documentation only changes                              &#x2F;&#x2F; æ–‡æ¡£</span><br><span class="line">  ğŸ’¡  refactor:   A code change that neither fixes a bug or adds a feature&#x2F;&#x2F; é‡æ„ï¼ˆä¸ä¿®å¤é”™è¯¯,ä¸æ·»åŠ åŠŸèƒ½çš„ä»£ç æ›´æ”¹ï¼‰</span><br><span class="line">  ğŸ’„  style:      Markup, white-space, formatting, missing semi-colons... &#x2F;&#x2F; æ ‡è®°ã€ç©ºæ ¼ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·</span><br><span class="line">  ğŸ¡  ci:         CI related changes                                      &#x2F;&#x2F; CIç›¸å…³çš„å˜åŒ–</span><br><span class="line">  âš¡ï¸  perf:       A code change that improves performance                 &#x2F;&#x2F; æé«˜æ€§èƒ½çš„ä»£ç æ›´æ”¹</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><code>scope</code>ï¼Œç”¨äºè¯´æ˜ <code>commit</code> å½±å“çš„èŒƒå›´</li><li><code>subject</code> æ˜¯ commit ç›®çš„çš„ç®€çŸ­æè¿°ï¼Œä¸€èˆ¬ä¸è¶…è¿‡50ä¸ªå­—ç¬¦ã€‚</li></ul><h3 id="Body"><a href="#Body" class="headerlink" title="Body"></a>Body</h3><p><code>Body</code> éƒ¨åˆ†æ˜¯å¯¹æœ¬æ¬¡ commit çš„è¯¦ç»†æè¿°ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œ</p><h3 id="Footer"><a href="#Footer" class="headerlink" title="Footer"></a>Footer</h3><p><code>Footer</code> éƒ¨åˆ†åªç”¨äºä¸¤ç§æƒ…å†µã€‚</p><ul><li>ä¸å…¼å®¹å˜åŠ¨<br>å¦‚æœå½“å‰ä»£ç ä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬ä¸å…¼å®¹ï¼Œåˆ™ Footer éƒ¨åˆ†ä»¥BREAKING CHANGEå¼€å¤´ï¼Œåé¢æ˜¯å¯¹å˜åŠ¨çš„æè¿°</li><li>å…³é—­ <code>Issue</code><br>å¦‚æœå½“å‰ commit é’ˆå¯¹æŸä¸ªissueï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ Footer éƒ¨åˆ†å…³é—­è¿™ä¸ª issue ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å•ä¸ª</span><br><span class="line">Closes #123</span><br><span class="line">&#x2F;&#x2F; æ”¯æŒå¤šä¸ª</span><br><span class="line">Closes #123, #245, #992</span><br></pre></td></tr></table></figure></li></ul><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><p>ä¸Šè¯‰ <code>commit</code> è§„èŒƒçœ‹èµ·æ¥æ˜¯ä¸å¾ˆéº»çƒ¦ï¼Œè¿™é‡Œæ¨èä½¿ç”¨ä¸€äº›å¼€æºçš„å·¥å…·è¿›è¡Œç®¡ç†ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æ•ˆæœ<br><img src="https://hfscdn.vercel.app/blog/image/commitizen-3.gif" alt="image"></p><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><h3 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€"></a>æ–¹å¼ä¸€</h3><h4 id="commitizen-â€“-è‡ªåŠ¨ç”Ÿæˆåˆæ ¼çš„-commit-message"><a href="#commitizen-â€“-è‡ªåŠ¨ç”Ÿæˆåˆæ ¼çš„-commit-message" class="headerlink" title="commitizen â€“ è‡ªåŠ¨ç”Ÿæˆåˆæ ¼çš„ commit message"></a><code>commitizen</code> â€“ è‡ªåŠ¨ç”Ÿæˆåˆæ ¼çš„ <code>commit message</code></h4><p><code>commitizen</code> æ˜¯ä¸€ä¸ªæ’°å†™åˆæ ¼ <code>Commit message</code> çš„å·¥å…·ï¼Œé€šè¿‡ <code>commitizen</code> æˆ‘ä»¬å¯ä»¥å¿«é€Ÿç”Ÿæˆç¬¦åˆè§„èŒƒçš„ <code>commit message</code>ï¼Œä¸‹é¢æˆ‘ä»¬ä»‹ç»ä¸‹æ€ä¹ˆåœ¨é¡¹ç›®ä¸­ä½¿ç”¨ã€‚</p><ul><li><p>å®‰è£…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g commitizen</span><br></pre></td></tr></table></figure></li><li><p>åœ¨é¡¹ç›®ç›®å½•é‡Œï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½¿å…¶æ”¯æŒ <code>Angular</code> çš„ <code>Commit message</code> æ ¼å¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ commitizen init cz-conventional-changelog --save --save-exact</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°æŠ¥é”™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Attempting to initialize using the npm package cz-conventional-changelog</span><br><span class="line">Error: A previous adapter is already configured. Use --force to override</span><br></pre></td></tr></table></figure></li></ul><p>å¯ä»¥åœ¨æŒ‡ä»¤åé¢åŠ ä¸Š â€“force</p><h3 id="æ–¹å¼äºŒ"><a href="#æ–¹å¼äºŒ" class="headerlink" title="æ–¹å¼äºŒ"></a>æ–¹å¼äºŒ</h3><h4 id="git-cz-â€“-æ’ä»¶å…¨å±€å®‰è£…"><a href="#git-cz-â€“-æ’ä»¶å…¨å±€å®‰è£…" class="headerlink" title="git-cz â€“ æ’ä»¶å…¨å±€å®‰è£…"></a><code>git-cz</code> â€“ æ’ä»¶å…¨å±€å®‰è£…</h4><p>å®‰è£…<code>git-cz</code>å·¥å…·ï¼Œä¹Ÿå¯ç”¨å¿«é€Ÿç”Ÿæˆç¬¦åˆè§„èŒƒçš„ <code>commit message</code>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g git-cz</span><br><span class="line">$ git-cz</span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆ-CHANGE-LOG"><a href="#ç”Ÿæˆ-CHANGE-LOG" class="headerlink" title="ç”Ÿæˆ CHANGE LOG"></a>ç”Ÿæˆ CHANGE LOG</h2><p>å¦‚æœéœ€è¦ç”Ÿæˆå‘å¸ƒè®°å½•ï¼Œå¯ä»¥é€šè¿‡ <code>conventional-changelog-cli</code> ç”Ÿæˆã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„æ–‡æ¡£åŒ…æ‹¬</p><ul><li>New features</li><li>Bug fixes</li><li>Breaking changes.</li></ul><p>å…¶ä»–æƒ…å†µï¼ˆdocsã€choreã€styleã€refactorã€testï¼‰ç”±ä½ å†³å®šï¼Œè¦ä¸è¦æ”¾å…¥ Change logï¼Œå»ºè®®æ˜¯ä¸è¦ã€‚</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g conventional-changelog-cli</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹-package-json"><a href="#ä¿®æ”¹-package-json" class="headerlink" title="ä¿®æ”¹ package.json"></a>ä¿®æ”¹ <code>package.json</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;changelog&quot;: &quot;conventional-changelog -p angular -i CHANGELOG.md -s&quot;,</span><br><span class="line">  &quot;changelog-all&quot;: &quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="ç”Ÿæˆ-CHANGELOG-md"><a href="#ç”Ÿæˆ-CHANGELOG-md" class="headerlink" title="ç”Ÿæˆ CHANGELOG.md"></a>ç”Ÿæˆ CHANGELOG.md</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm run changelog &#x2F;&#x2F; ä¸ä¼šè¦†ç›–ä»¥å‰çš„ Change logï¼Œåªä¼šåœ¨CHANGELOG.mdçš„å¤´éƒ¨åŠ ä¸Šè‡ªä»ä¸Šæ¬¡å‘å¸ƒä»¥æ¥çš„å˜åŠ¨ã€‚</span><br><span class="line">$ npm run changelog-all &#x2F;&#x2F; ç”Ÿæˆæ‰€æœ‰å‘å¸ƒçš„ Change log</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šè¿‡ Lerna å®ç°å¤šä¸ªè½¯ä»¶åŒ…çš„ç®¡ç†</title>
      <link href="2021/06/02/lerna/"/>
      <url>2021/06/02/lerna/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>å°†å¤§å‹ä»£ç ä»“åº“åˆ†å‰²æˆå¤šä¸ªç‹¬ç«‹ç‰ˆæœ¬åŒ–çš„è½¯ä»¶åŒ…ï¼ˆpackageï¼‰å¯¹äºä»£ç å…±äº«æ¥è¯´éå¸¸æœ‰ç”¨ã€‚ä½†æ˜¯ï¼Œå¦‚æœæŸäº›æ›´æ”¹ è·¨è¶Šäº†å¤šä¸ªä»£ç ä»“åº“çš„è¯å°†å˜å¾—å¾ˆ éº»çƒ¦ å¹¶ä¸”éš¾ä»¥è·Ÿè¸ªï¼Œå¹¶ä¸”è·¨è¶Šå¤šä¸ªä»£ç ä»“åº“çš„æµ‹è¯•å°†è¿…é€Ÿå˜å¾—éå¸¸å¤æ‚ã€‚<br>ä¸ºäº†è§£å†³è¿™äº›ï¼ˆä»¥åŠè®¸å¤šå…¶å®ƒï¼‰é—®é¢˜ï¼ŒæŸäº›é¡¹ç›®ä¼šå°† ä»£ç ä»“åº“åˆ†å‰²æˆå¤šä¸ªè½¯ä»¶åŒ…ï¼ˆpackageï¼‰ï¼Œå¹¶å°†æ¯ä¸ªè½¯ä»¶åŒ…å­˜æ”¾åˆ°ç‹¬ç«‹çš„ä»£ç ä»“åº“ä¸­ã€‚</p></blockquote><p><code>Lerna</code> æ˜¯ä¸€ç§å·¥å…·ï¼Œé’ˆå¯¹ ä½¿ç”¨ <code>git</code> å’Œ <code>npm</code> ç®¡ç†å¤šè½¯ä»¶åŒ…ä»£ç ä»“åº“çš„å·¥ä½œæµç¨‹è¿›è¡Œä¼˜åŒ–ã€‚</p><h2 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --global lerna                    &#x2F;&#x2F; å…¨å±€å®‰è£… lerna</span><br><span class="line">git init hfs-lerna-test &amp;&amp; cd hfs-lerna-test  &#x2F;&#x2F; åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œ hfs-lerna-test ä»…ä»£è¡¨å½“å‰ä¾‹å­æ–‡ä»¶å¤¹å</span><br><span class="line">lerna init                                    &#x2F;&#x2F; åˆå§‹åŒ–ä¸€ä¸ªlernaé¡¹ç›®ç»“æ„ï¼Œå¦‚æœå¸Œæœ›å„ä¸ªåŒ…ä½¿ç”¨å•ç‹¬ç‰ˆæœ¬å·å¯ä»¥åŠ  -i | --independent</span><br></pre></td></tr></table></figure><p>ä½ çš„ä»£ç ä»“åº“ç›®å‰åº”è¯¥æ˜¯å¦‚ä¸‹ç»“æ„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- hfs-lerna-test&#x2F;</span><br><span class="line">  - packages&#x2F;</span><br><span class="line">  - package.json</span><br><span class="line">  - lerna.json</span><br></pre></td></tr></table></figure><h2 id="è¿ä½œæ–¹å¼"><a href="#è¿ä½œæ–¹å¼" class="headerlink" title="è¿ä½œæ–¹å¼"></a>è¿ä½œæ–¹å¼</h2><h3 id="Fixed-æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰"><a href="#Fixed-æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰" class="headerlink" title="Fixed æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰"></a>Fixed æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰</h3><p>å›ºå®šæ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åˆå§‹åŒ–æ—¶é»˜è®¤é‡‡ç”¨çš„æ¨¡å¼ã€‚è¯¥æ¨¡å¼ä¸ºå•ç‰ˆæœ¬å·ï¼Œåœ¨æ ¹ç›®å½• <code>lerna.json</code> ä¸­è®¾ç½®ï¼Œè¯¥æ¨¡å¼ä½ å¯ä»¥ç†è§£ä¸º â€˜å…¨é‡å‘å¸ƒâ€™ï¼Œå³ä»»ä½•ä¸€ä¸ªæ¨¡å—æ›´æ–°äº†ï¼Œå½“ä½ åœ¨æ‰§è¡Œ <code>lerna publish</code> å‘å¸ƒæ—¶ï¼Œæ‰€æœ‰çš„æ¨¡å—éƒ½ä¼šç»Ÿä¸€æ›´æ–°ç‰ˆæœ¬å·ã€‚<code>Babel</code> ç›®å‰å°±æ˜¯é‡‡ç”¨è¯¥æ¨¡å¼ã€‚</p><h3 id="Independent-æ¨¡å¼"><a href="#Independent-æ¨¡å¼" class="headerlink" title="Independent æ¨¡å¼"></a>Independent æ¨¡å¼</h3><p><code>lerna init --independent</code></p><p>ç‹¬ç«‹æ¨¡å¼çš„ Lerna é¡¹ç›®å…è®¸ç»´æŠ¤è€…å•ç‹¬å‡çº§åŒ…ç‰ˆæœ¬ï¼Œå¯ä»¥ç†è§£ä¸ºâ€™å¢é‡å‘å¸ƒâ€™ã€‚æ¯æ¬¡å‘å¸ƒæ—¶ï¼Œæ‚¨éƒ½ä¼šæ”¶åˆ°æœ‰å…³å·²æ›´æ”¹çš„æ¯ä¸ªåŒ…çš„æç¤ºï¼Œä»¥æŒ‡å®šå®ƒæ˜¯è¡¥ä¸ã€æ¬¡è¦ã€ä¸»è¦è¿˜æ˜¯è‡ªå®šä¹‰æ›´æ”¹ã€‚  </p><p>è¿™ç§æ–¹å¼ç›¸å¯¹ç¬¬ä¸€ç§æ¥è¯´ï¼Œæ›´çµæ´»ï¼Œåªéœ€å°†åªéœ€å°† <code>lerna.json </code> ä¸­çš„ <code>version</code> é”®æ”¹æˆ <code>independent</code> å³å¯å¯ç”¨ <code>independent</code> æ¨¡å¼ã€‚</p><h2 id="åˆ›å»ºæ¨¡å—"><a href="#åˆ›å»ºæ¨¡å—" class="headerlink" title="åˆ›å»ºæ¨¡å—"></a>åˆ›å»ºæ¨¡å—</h2><p><code>lerna create test-1</code><br><code>lerna create test-2</code></p><p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤åä¼šåœ¨ <code>packages</code> ä¸­åˆ›å»ºå¯¹åº”çš„æ¨¡å—ï¼Œå¹¶æ ¹æ®æç¤ºç”Ÿæˆ <code>package.json</code></p><p><img src="https://hfscdn.vercel.app/blog/image/lerna-create.png" alt="hexo"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ lerna.json</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â””â”€â”€ packages</span><br><span class="line">    â””â”€â”€ test-1</span><br><span class="line">    â”œâ”€â”€ __tests__</span><br><span class="line">    â”‚    â””â”€â”€ test-1.test.js</span><br><span class="line">    â”œâ”€â”€ lib</span><br><span class="line">    â”‚    â””â”€â”€ test-1.js</span><br><span class="line">        â”œâ”€â”€ package.json</span><br><span class="line">        â””â”€â”€ README.md</span><br><span class="line">    â””â”€â”€ test-2</span><br><span class="line">    â”œâ”€â”€ __tests__</span><br><span class="line">    â”‚    â””â”€â”€ test-2.test.js</span><br><span class="line">    â”œâ”€â”€ lib</span><br><span class="line">    â”‚    â””â”€â”€ test-2.js</span><br><span class="line">        â”œâ”€â”€ package.json</span><br><span class="line">        â””â”€â”€ README.md</span><br></pre></td></tr></table></figure><h2 id="ä¾èµ–ç®¡ç†"><a href="#ä¾èµ–ç®¡ç†" class="headerlink" title="ä¾èµ–ç®¡ç†"></a>ä¾èµ–ç®¡ç†</h2><blockquote><ul><li>æˆ‘ä»¬æ—¶å¸¸çœ‹åˆ°æŸäº›ä¸€ç±»è¯¸å¦‚ <code>@babel/runtime</code>ã€<code>@babel/preset-env</code>çš„ä¾èµ–åŒ…ï¼Œå…¶ä¸­ <code>babel</code> å®é™…å°±æ˜¯å¯ä»¥çœ‹æˆåŒ…ç»„ç»‡ä½œç”¨åŸŸçš„æ„æ€ï¼Œä»£æŒ‡åˆ†å°†<code>babel</code>åŒ…åˆ†å‰²æˆå¤šä¸ªç‹¬ç«‹ç‰ˆæœ¬åŒ–çš„è½¯ä»¶åŒ…ï¼ˆpackageï¼‰ã€‚</li><li><code>npm</code> åŒ…å‰é¢åŠ  <code>@</code>ï¼Œä»£è¡¨ <code>scopes</code> ç›¸å…³çš„åŒ…ï¼Œå¯ä»¥ç†è§£ä¸ºä½œç”¨åŸŸ(èŒƒå›´)åŒ…ï¼Œ <code>npm</code> ä½œç”¨åŸŸçš„å‘½åä¸æ˜¯è°ä¾¿å°±èƒ½ç”¨çš„ï¼Œåªæœ‰ä¸¤ç§å¯ä»¥ä½¿ç”¨ï¼šè‡ªå·±çš„ç”¨æˆ·åã€è‡ªå·±åˆ›å»ºçš„ç»„ç»‡åã€‚</li><li>å› æ­¤åœ¨ <code>test-1</code>ã€<code>test-2</code> ä¸­ï¼Œ<code>package.json</code> çš„ <code>name</code> å­—æ®µåˆ†åˆ«æ”¹æˆ <code>@hfs-lerna-test/test-1</code>,<code>@hfs-lerna-test/test-2</code>ã€‚</li></ul></blockquote><p>åœ¨ä»“åº“æ ¹ç›®å½•æ‰§è¡ŒæŒ‡ä»¤å®‰è£…ä¾èµ–</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lerna bootstrap</span><br></pre></td></tr></table></figure><p><code>lerna bootstrap</code>ï¼Œä¼šå®‰è£…å½“å‰ç›®å½•ä¸‹æ‰€æœ‰å®šä¹‰åœ¨ <code>package.json</code> ä¸­çš„ä¾èµ–åŒ…ã€‚ç›¸å½“äºç»™ <code>packages</code> ä¸‹çš„æ¯ä¸ªè½¯ä»¶åŒ…æ‰§è¡Œ <code>npm install</code></p><p>å¦‚æœ <code>test-2/package.json</code> ä¸­å¼•ç”¨äº†<code>test-1</code>çš„ä¾èµ–ï¼Œæ‰§è¡Œåå°†è‡ªåŠ¨å°†å…¶æ·»åŠ åˆ°ä¾èµ–åŒ…ä¸­ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;devDependencies&quot;: &#123;</span><br><span class="line">  &quot;@hfs-lerna-test&#x2F;test-1&quot;: &quot;0.0.1&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€ test-2</span><br><span class="line">    â”œâ”€â”€ __tests__</span><br><span class="line">    â”‚    â””â”€â”€ test-2.test.js</span><br><span class="line">    â”œâ”€â”€ node_modules</span><br><span class="line">    â”‚    â””â”€â”€ @hfs-lerna-test&#x2F;test-1</span><br><span class="line">    â”œâ”€â”€ lib</span><br><span class="line">    â”‚    â””â”€â”€ test-2.js</span><br><span class="line">    â”œâ”€â”€ package.json</span><br><span class="line">    â””â”€â”€ README.md</span><br></pre></td></tr></table></figure><h2 id="å‘å¸ƒæ¨¡å—"><a href="#å‘å¸ƒæ¨¡å—" class="headerlink" title="å‘å¸ƒæ¨¡å—"></a>å‘å¸ƒæ¨¡å—</h2><p><code>lerna publish</code></p><blockquote><ul><li>æ‰§è¡Œæ—¶ä¼šæ‰“ <code>Tag</code>ï¼Œä¸Šä¼  <code>Github </code>,ä¸Šä¼  <code>NPM</code>ã€‚</li><li>å½“æˆ‘ä»¬æ‰§è¡Œ <code>lerna publish</code> å‘½ä»¤æ—¶ï¼Œå¯èƒ½ä¼šæŠ¥é”™ï¼Œ<code>lerna publish</code> å¸¸è§é”™è¯¯è§ <a href="#lerna-publish-%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E7%B1%BB%E5%9E%8B">å¸¸è§é”™è¯¯ç±»å‹</a></li></ul></blockquote><ul><li><code>lerna publish</code> æœ¬è´¨ä¸Šè¿˜æ˜¯æ‰§è¡Œ <code>npm publish</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆéœ€è¦åœ¨ <code>npm</code> ä»“åº“ä¸Šæ³¨å†Œç”¨æˆ·ï¼Œä»¥åŠæ¨é€ä»£ç åˆ°è¿œç¨‹ <code>github</code> ä»“åº“ã€‚</li></ul><p><img src="https://hfscdn.vercel.app/blog/image/lerna-publish.png" alt="hexo"></p><ul><li><p>æ³¨æ„</p><ul><li><p><code>npm publish</code> é»˜è®¤å‘å¸ƒç§æœ‰åŒ…ï¼Œæƒ³è¦å‘å¸ƒå…¬å…±åŒ…å¿…é¡»ä½¿ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish --acsess&#x3D;public</span><br></pre></td></tr></table></figure></li><li><p>å¤åˆ¶ä»£ç ä¹Ÿå¯ä»¥åœ¨ <code>packages</code> ä¸‹çš„æ¯ä¸ªè½¯ä»¶åŒ…çš„ <code>package.json</code> ä¸­é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;publishConfig&quot;: &#123;</span><br><span class="line">    &quot;access&quot;: &quot;public&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="æ¨åŠ¨è¿œç¨‹"><a href="#æ¨åŠ¨è¿œç¨‹" class="headerlink" title="æ¨åŠ¨è¿œç¨‹"></a>æ¨åŠ¨è¿œç¨‹</h3><ul><li>ç™»å½• <a href="https://github.com/">Github</a></li><li>åˆ›å»ºä»£ç ä»“åº“ï¼Œå¦‚ï¼š<code>git@github.com:&lt;username&gt;/hfs-lerna-test.git</code></li><li>æäº¤ä»£ç ï¼Œæ¨é€åˆ°æŒ‡å®šè¿œç¨‹ä»“åº“<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m &quot;first commit&quot;</span><br><span class="line">git branch -M main</span><br><span class="line">git remote add origin git@github.com:&lt;username&gt;&#x2F;hfs-lerna-test.git</span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure></li></ul><h3 id="ç™»å½•-npm-è´¦æˆ·"><a href="#ç™»å½•-npm-è´¦æˆ·" class="headerlink" title="ç™»å½• npm è´¦æˆ·"></a>ç™»å½• npm è´¦æˆ·</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹æ˜¯å¦ç™»å½•</span><br><span class="line">npm whoami</span><br><span class="line"></span><br><span class="line"># æ²¡æœ‰åˆ™ç™»å½• </span><br><span class="line">npm login</span><br><span class="line"></span><br><span class="line"># è¾“å…¥ username password</span><br></pre></td></tr></table></figure><h3 id="ã€å‘å¸ƒã€‘ä½¿ç”¨éç»„ç»‡åŒ…æ–¹å¼"><a href="#ã€å‘å¸ƒã€‘ä½¿ç”¨éç»„ç»‡åŒ…æ–¹å¼" class="headerlink" title="ã€å‘å¸ƒã€‘ä½¿ç”¨éç»„ç»‡åŒ…æ–¹å¼"></a>ã€å‘å¸ƒã€‘ä½¿ç”¨éç»„ç»‡åŒ…æ–¹å¼</h3><p>ä½¿ç”¨éç»„ç»‡åŒ…æ–¹å¼ï¼Œéœ€è¦è®¾ç½®æŠ¥åä¸ºå½“å‰ <code>npm</code> è´¦æˆ·åä¸ºå‰ç¼€ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm adduser</span><br><span class="line">Username: @hfs-lerna-test &#x2F;&#x2F; è‡ªå·±çš„username</span><br><span class="line">Password:                 &#x2F;&#x2F; å¯†ç </span><br></pre></td></tr></table></figure><h3 id="ã€å‘å¸ƒã€‘ç»„ç»‡åŒ…-scope-packages-æ–¹å¼ï¼ˆæ¨èï¼‰"><a href="#ã€å‘å¸ƒã€‘ç»„ç»‡åŒ…-scope-packages-æ–¹å¼ï¼ˆæ¨èï¼‰" class="headerlink" title="ã€å‘å¸ƒã€‘ç»„ç»‡åŒ… scope packages æ–¹å¼ï¼ˆæ¨èï¼‰"></a>ã€å‘å¸ƒã€‘ç»„ç»‡åŒ… scope packages æ–¹å¼ï¼ˆæ¨èï¼‰</h3><blockquote><p>ä¸Šè¯‰æˆ‘ä»¬å®šä¹‰çš„ <code>@hfs-lerna-test</code>ï¼Œå³ä»£è¡¨è¿™é‡Œçš„ <code>scope</code> ä¸º <code>@hfs-lerna-test</code></p></blockquote><ul><li><p>åœ¨ npm ä»“åº“ä¸­åˆ›å»ºå›¢é˜Ÿï¼Œç™»å½• <a href="https://www.npmjs.com/">NPM</a><br><img src="https://hfscdn.vercel.app/blog/image/npm-home.png" alt="hexo"></p></li><li><p>å°†è‡ªå·±çš„è´¦å·æ·»åŠ åˆ°è¯¥å›¢é˜Ÿç»„ç»‡ä¸­<br><img src="https://hfscdn.vercel.app/blog/image/npm-add-organization.png" alt="hexo"><br><img src="https://hfscdn.vercel.app/blog/image/npm-add-username.png" alt="hexo"></p></li><li><p>æœ€åï¼Œå¯ä»¥å¼€å§‹æ„‰å¿«åœ° <code>lerna publish</code> äº†</p></li></ul><h2 id="Lerna-æ›´å¤šå‘½ä»¤"><a href="#Lerna-æ›´å¤šå‘½ä»¤" class="headerlink" title="Lerna æ›´å¤šå‘½ä»¤"></a>Lerna æ›´å¤šå‘½ä»¤</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lerna init        &#x2F;&#x2F; åˆå§‹åŒ–</span><br><span class="line">lerna clean       &#x2F;&#x2F; åˆ é™¤ node_modules</span><br><span class="line">lerna bootstrap   &#x2F;&#x2F; å®‰è£…ä¾èµ–</span><br><span class="line">lerna list        &#x2F;&#x2F; åˆ—å‡ºåŒ…å</span><br></pre></td></tr></table></figure><p><code>lerna</code> çš„è¯¦ç»†ç”¨æ³•ï¼Œè¯·å‚è€ƒ <a href="https://lerna.js.org/">lerna</a>ã€‚</p><h2 id="lerna-publish-å¸¸è§é”™è¯¯ç±»å‹"><a href="#lerna-publish-å¸¸è§é”™è¯¯ç±»å‹" class="headerlink" title="lerna publish å¸¸è§é”™è¯¯ç±»å‹"></a>lerna publish å¸¸è§é”™è¯¯ç±»å‹</h2><p>å¦‚</p><ul><li><p>æœªæ¨é€è¿œç¨‹ä»“åº“</p><blockquote><p>è§£å†³ï¼šåˆ›å»º <code>Github</code> è¿œç¨‹ä»“åº“ï¼Œç»‘å®šå¹¶æ¨é€è¿œç¨‹ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ lerna publish</span><br><span class="line">lerna ERR! ENOREMOTEBRANCH Branch &#39;master&#39; doesn&#39;t exist in remote &#39;origin&#39;.</span><br><span class="line">lerna ERR! ENOREMOTEBRANCH If this is a new branch, please make sure you push it to the remote first.</span><br></pre></td></tr></table></figure></li><li><p>401 npm æœªç™»å½•</p><blockquote><p>è§£å†³ï¼šæ‰§è¡Œ <code>npm whoami</code> æŸ¥çœ‹æ˜¯å¦ <code>NPM</code> å·²ç™»å½•ï¼Œæœªç™»å½•æ·»åŠ è´¦æˆ·æˆ–ç™»å½•ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ lerna publish</span><br><span class="line">lerna ERR! EWHOAMI Authentication error. Use &#96;npm whoami&#96; to troubleshoot.</span><br></pre></td></tr></table></figure></li><li><p>402 æ‚¨å¿…é¡»æ³¨å†Œç§äººåŒ…</p><blockquote><p>è§£å†³ï¼šå½“å‰å‘å¸ƒçš„ <code>npm</code> åŒ…æ˜¯ <code>@</code> ç±»å‹ä¸ºç§äººåŒ…ï¼Œä½†æ˜¯ <a href="https://www.npmjs.com/">NPM</a> ä¸Šä¸å­˜åœ¨è¯¥åŒ…ç»„ç»‡ï¼Œæˆ–è€…è¯¥ç»„ç»‡ä¸ºå…¬å…±åŒ…ã€‚<br>è¯·å˜æ›´åŒ…ç±»å‹ï¼Œæˆ–è€…é€šè¿‡å…±æœ‰åŒ…å‘å¸ƒï¼Œè¯¦æƒ…è§ <a href="#%E5%8F%91%E5%B8%83%E6%A8%A1%E5%9D%97">å‘å¸ƒæ¨¡å— - æ³¨æ„</a></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ lerna publish</span><br><span class="line">lerna ERR! E402 You must sign up for private packages</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p><code>Scope</code> åŒ…ç»„ç»‡æœªæ‰¾åˆ°</p><blockquote><p>å½“å‰å‘å¸ƒçš„ <code>npm</code> åŒ…æ˜¯ <code>@</code> ç±»å‹ï¼Œæ ¸å¯¹ scope æ˜¯å¦æ­£ç¡®ï¼Œéœ€ç”¨è‡ªå·±çš„ç”¨æˆ·åã€æˆ–è€…è‡ªå·±åˆ›å»ºçš„å›¢é˜Ÿç»„ç»‡åã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lerna ERR! E404 Scope not found</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•™ç¨‹ </tag>
            
            <tag> lerna </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡</title>
      <link href="2021/05/05/deploy/"/>
      <url>2021/05/05/deploy/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p><a href="/2021/04/26/blog/">ä¸Šç¯‡æ–‡ç« </a> ä»‹ç»äº†åœ¨æˆ‘ä»¬ä¸æ³¨å†ŒåŸŸåã€ä»¥åŠè´­ä¹°äº‘æœåŠ¡å™¨çš„åŸºç¡€ä¸Šï¼Œåˆ©ç”¨ç°æœ‰çš„å…è´¹çš„äº‘å‚å•†æ‰˜ç®¡å¹³å°æ­å»ºä¸ªäººç½‘ç«™ã€‚å¹¶ä»¥ <code>Hexo </code> + <code>Github Pages</code> ä¸ºä¾‹ï¼Œå®ç°äº†ä¸ªäººåšå®¢çš„å¿«é€Ÿæ­å»ºå’Œéƒ¨ç½²ã€‚</p></blockquote><p>æ¥ä¸‹æ¥åˆ†äº«å…¶ä»–å¸¸è§çš„å‡ ç§é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ã€‚</p><h2 id="Github-Pages"><a href="#Github-Pages" class="headerlink" title="Github Pages"></a><a href="https://pages.github.com/">Github Pages</a></h2><blockquote><p>æ˜¯ <code>GitHub</code> æä¾›çš„ä¸€ä¸ªç½‘é¡µæ‰˜ç®¡æœåŠ¡ï¼Œäº2008å¹´æ¨å‡ºã€‚å¯ä»¥ç”¨äºå­˜æ”¾é™æ€ç½‘é¡µï¼ŒåŒ…æ‹¬åšå®¢ã€é¡¹ç›®æ–‡æ¡£ç”šè‡³æ•´æœ¬ä¹¦ã€‚</p></blockquote><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ul><li>Github çš„ä¸œå®¶æ˜¯å¾®è½¯ï¼ŒGit ç®¡ç†å…¨éƒ¨ä»£ç ï¼Œæ°¸è¿œä¸ç”¨æ‹…å¿ƒæ–‡å­—ä¸¢å¤±æˆ–è€…å¤åŸé—®é¢˜ï¼›</li><li>ç™¾åº¦æ— æ³•çˆ¬å–å­˜åœ¨ Github ä¸Šçš„ç½‘ç«™å†…å®¹ï¼›</li><li>è‡ªå¸¦åŸŸåå¯ https è®¿é—®ï¼Œå¦‚ https://&lt;ä½ çš„ GitHub ç”¨æˆ·å&gt;.github.io</li><li>æ”¯æŒè‡ªå®šä¹‰åŸŸå</li></ul><h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul><li>æ— æ³•ç»™è‡ªå®šä¹‰åŸŸåé…ç½® SSL è¯ä¹¦</li><li>å¢™å†…è®¿é—®é€Ÿåº¦ç¼“æ…¢</li><li>æµé‡é™åˆ¶ï¼ˆæ¯ä¸ªæœˆ 100Gbï¼‰åŸºæœ¬å¤Ÿç”¨</li></ul><hr><p><a href="https://docs.gitlab.com/ee/README.html">GitLab Pages</a><br>åŒæ ·è·Ÿ GitHub Pages çš„åŠŸèƒ½ä¸€æ ·ï¼Œä½†æ˜¯ï¼š</p><ul><li>è‡ªå®šä¹‰åŸŸåå¯é…ç½® httpsï¼Œä¸è¿‡éœ€è¦ä¸Šä¼ è¯ä¹¦</li></ul><hr><h2 id="Vercelï¼ˆæ¨èï¼‰"><a href="#Vercelï¼ˆæ¨èï¼‰" class="headerlink" title="Vercelï¼ˆæ¨èï¼‰"></a><a href="https://vercel.com/">Vercel</a>ï¼ˆæ¨èï¼‰</h2><blockquote><p>ä¹‹å‰ä¹Ÿå« <code>Zeit</code> æˆ– <code>now.sh</code> æ˜¯ä¸€å®¶æä¾› <code>JAMStack</code>ï¼Œé™æ€ç½‘ç«™æ‰˜ç®¡çš„å¹³å°ï¼Œæ”¯æŒè‡ªåŠ¨ä» <code>Github</code>ï¼Œ<code>GitLab</code>ï¼Œ<code>Bitbucket</code> ç­‰ä»“åº“è‡ªåŠ¨æ‹‰å–ä»£ç ã€‚</p></blockquote><h4 id="ä¼˜ç‚¹-1"><a href="#ä¼˜ç‚¹-1" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ul><li>å¯ä»¥ä½¿ç”¨ CLI ä¸Šä¼ ä»£ç ï¼Œæˆ–è€…é“¾æ¥ä¸€ä¸ª Git ä»“åº“</li><li>æ”¯æŒè‡ªåŠ¨å¼æ„å»ºï¼ŒæŒ‡å®šæ„å»ºå‘½ä»¤ï¼Œæœ€åæŠŠç”Ÿæˆçš„é™æ€ç½‘ç«™çš„ä¸€ç«™å¼æœåŠ¡å¹³å°</li><li>ä¸ä»…æä¾›é™æ€ç½‘ç«™æ‰˜ç®¡ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒæ‰˜ç®¡ Node.js æœåŠ¡</li><li>æ”¯æŒè‡ªå®šä¹‰åŸŸåä¸”è‡ªå®šä¹‰åŸŸåæ”¯æŒä¸€é”®å¼€å¯ httpsï¼Œè‡ªåŠ¨ç”³è¯· SSL è¯ä¹¦ï¼ˆè¯ä¹¦æ¥è‡ª Letâ€™s Encrypeï¼‰</li><li>æ•°æ®é€šè¿‡ HTTP2 åè®®ä¼ è¾“</li><li>æä¾› API</li></ul><hr><h2 id="Coding"><a href="#Coding" class="headerlink" title="Coding"></a><a href="https://coding.net/">Coding</a></h2><blockquote><p>CODING é™æ€ç½‘ç«™æœåŠ¡æ˜¯ CODING è”åˆè…¾è®¯äº‘ Serverless å›¢é˜Ÿï¼Œä¸ºå¼€å‘è€…æä¾›çš„ä¾¿æ·ã€ç¨³å®šã€é«˜æ‹“å±•æ€§çš„é™æ€ç½‘ç«™èµ„æºæ‰˜ç®¡æœåŠ¡ã€‚æ— éœ€è‡ªå»ºæœåŠ¡å™¨ï¼Œå³å¯ä¸€é”®éƒ¨ç½²ç½‘ç«™åº”ç”¨ï¼Œå°†é™æ€ç½‘ç«™åˆ†å‘è‡³å…¨ç½‘èŠ‚ç‚¹ï¼Œè½»æ¾ä¸ºæ‚¨çš„ç½‘ç«™ä¸šåŠ¡å¢æ·»ç¨³å®šã€é«˜å¹¶å‘ã€å¿«é€Ÿè®¿é—®ç­‰èƒ½åŠ›ã€‚</p></blockquote><h4 id="ä¼˜ç‚¹-2"><a href="#ä¼˜ç‚¹-2" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><p> CODING ç½‘ç«™æ‰˜ç®¡æœåŠ¡æ”¯æŒ Jekyllã€Hexo ç­‰å¤šç§éƒ¨ç½²æ¡†æ¶ã€‚é™æ€èµ„æºçš„åˆ†å‘ç”± è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ COS å’Œæ‹¥æœ‰å¤šä¸ªè¾¹ç¼˜ç½‘ç‚¹çš„ è…¾è®¯äº‘å†…å®¹åˆ†å‘ç½‘ç»œ CDN æä¾›æ”¯æŒ</p><ul><li>Coding ä¸ºè…¾è®¯ä»£ç†ï¼Œåœ¨å›½å†…çš„æœåŠ¡å™¨è¾ƒå¤šï¼Œ é€Ÿåº¦æ¯” GitHub Page å¿«å¾ˆå¤š</li><li>æ”¯æŒè‡ªå®šä¹‰åŸŸå<h4 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4></li><li>åœ¨é¦–æ¬¡åˆ›å»ºé™æ€ç½‘ç«™å‰ï¼Œæ‚¨å¿…é¡»å…ˆå®Œæˆæˆæƒæ“ä½œå’Œå®åè®¤è¯</li><li>é™æ€èµ„æºçš„åˆ†å‘ç”± è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ COS å’Œæ‹¥æœ‰å¤šä¸ªè¾¹ç¼˜ç½‘ç‚¹çš„ è…¾è®¯äº‘å†…å®¹åˆ†å‘ç½‘ç»œ CDN æä¾›æ”¯æŒï¼Œå¯èƒ½äº§ç”Ÿå°‘é‡ä»˜è´¹</li></ul><hr><h2 id="Netlify"><a href="#Netlify" class="headerlink" title="Netlify"></a><a href="https://www.netlify.com/">Netlify</a></h2><h4 id="ä¼˜ç‚¹-3"><a href="#ä¼˜ç‚¹-3" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ul><li>å¯ä»¥ä½¿ç”¨ CLI ä¸Šä¼ ä»£ç </li><li>æ”¯æŒè‡ªå®šä¹‰åŸŸåä¸”è‡ªå®šä¹‰åŸŸåæ”¯æŒä¸€é”®å¼€å¯ httpsï¼ˆè¯ä¹¦æ¥è‡ª Letâ€™s Encrypeï¼‰</li><li>æ”¯æŒå¼ºåˆ¶è®©ç”¨æˆ·é€šè¿‡ https è®¿é—®ç½‘ç«™ï¼ˆå¼€å¯åæ­¤åŠŸèƒ½åï¼Œhttp çš„è®¿é—®ä¸€å¾‹ä¼š 301 è·³è½¬åˆ° https</li><li>æ”¯æŒè‡ªåŠ¨æ„å»º</li><li>æ”¯æŒé‡å®šå‘ï¼ˆRedirectsï¼‰å’Œé‡å†™ï¼ˆRewritesï¼‰åŠŸèƒ½</li><li>æ•°æ®é€šè¿‡ HTTP2 åè®®ä¼ è¾“</li><li>æä¾› webhooks ä¸ API<h4 id="ç¼ºç‚¹-2"><a href="#ç¼ºç‚¹-2" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4></li><li>ä¼šè‡ªåŠ¨æŠŠé™æ€èµ„æºä¸Šä¼ åˆ° cloudfront CDNï¼Œä½†å›½å†…æœ‰äº›åœ°æ–¹è®¿é—® cloudfront é€Ÿåº¦å¾ˆæ…¢æˆ–éƒ¨åˆ†è¢«å¢™</li><li>é€Ÿåº¦æ¯” Vercel æ…¢</li></ul><hr><h2 id="Bitbucket-Cloud"><a href="#Bitbucket-Cloud" class="headerlink" title="Bitbucket Cloud"></a><a href="https://support.atlassian.com/bitbucket-cloud/docs/publishing-a-website-on-bitbucket-cloud/">Bitbucket Cloud</a></h2><p>è·Ÿ GitHub Pages çš„åŠŸèƒ½ä¸€æ ·ï¼Œä½†æ˜¯ï¼š</p><ul><li>æ— æ³•è‡ªå®šä¹‰åŸŸå</li><li>èƒ½ä¸”åªèƒ½é€šè¿‡ https åè®®è®¿é—®ï¼ˆhttp åè®®ä¼šè¢«è·³è½¬åˆ° https åè®®ï¼‰</li><li>æ‰€æœ‰é¡¹ç›®çš„é™æ€ç½‘ç«™ä»£ç éƒ½åªèƒ½æ”¾åœ¨ä¸“é—¨çš„ç«™ç‚¹ä»“åº“é‡Œï¼ˆaccountName.bitbucket.ioï¼‰ï¼Œä¸èƒ½åƒ GitHub é‚£æ ·å¯ä»¥åœ¨æ¯ä¸ªé¡¹ç›®é‡Œç”¨ gh-pages åˆ†æ”¯ä¿å­˜æ–‡ä»¶</li></ul><hr><h2 id="Serverless"><a href="#Serverless" class="headerlink" title="Serverless"></a>Serverless</h2><blockquote><p>é€šè¿‡æ— æœåŠ¡å™¨è®¡ç®—ï¼Œå°†å‰ç«¯é™æ€èµ„æºå¿«é€Ÿéƒ¨ç½²åˆ°äº‘å‚å•†æä¾›çš„äº‘å¹³å°è¿›è¡Œæ‰˜ç®¡ï¼Œé…ç½®é»˜è®¤ç”Ÿæˆçš„åŸŸåï¼Œå¿«é€Ÿç”Ÿæˆç«™ç‚¹ã€‚éœ€æŒ‰é‡ä»˜è´¹ã€‚ç»æµ‹éªŒå®é™…è´¹ç”¨ç”šå¾®ï¼Œæˆ–æ— ã€‚</p></blockquote><ul><li><a href="http://serverless-devs.com/">Serverless Devs é˜¿é‡Œäº‘</a></li><li><a href="https://www.serverless.com/cn">Serverless Framework è…¾è®¯äº‘</a></li></ul><!-- - Serverless- [å†…å®¹åˆ†å‘ç½‘ç»œCDN](https://www.aliyun.com/product/cdn) + [å¯¹è±¡å­˜å‚¨OSS](https://www.aliyun.com/product/oss)- [é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—FC](https://www.aliyun.com/product/fc) -->]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»ºä¸ªäººåšå®¢ Hexo + Github Page</title>
      <link href="2021/04/26/blog/"/>
      <url>2021/04/26/blog/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="æŠ€æœ¯é€‰å‹"><a href="#æŠ€æœ¯é€‰å‹" class="headerlink" title="æŠ€æœ¯é€‰å‹"></a>æŠ€æœ¯é€‰å‹</h1><blockquote><p>åœ¨ä¼ ç»Ÿè®¤çŸ¥é‡Œï¼Œæ­å»ºä¸ªäººé™æ€ç½‘ç«™æˆ‘ä»¬éœ€è¦ï¼š</p></blockquote><ul><li>æ³¨å†ŒåŸŸå</li><li>è´­ä¹°äº‘æœåŠ¡å™¨</li><li>åŸŸåå¤‡æ¡ˆ</li><li>æ„å»ºé™æ€ç½‘é¡µ</li><li>éƒ¨ç½²å‰ç«¯é™æ€èµ„æº</li><li>DNS è§£æ</li></ul><blockquote><p>ä¸Šè¯‰æ–¹æ¡ˆä½œä¸ºæŠ€æœ¯å°ç™½æˆ–è€…åˆå­¦è€…æ¥è¯´ï¼Œä¸Šæ‰‹è¾ƒéš¾ï¼Œæ—¶é—´ã€é‡‘é’±æˆæœ¬èŠ±è´¹è¾ƒå¤§ï¼Œä¸æ¨èã€‚<br>æˆ‘ä»¬æ¢è®¨çš„æ˜¯å¦‚ä½•åœ¨ä½æˆæœ¬çš„åŸºç¡€ä¸Šï¼Œåˆ©ç”¨å¸‚é¢ä¸Šç°æœ‰çš„æˆç†Ÿçš„åšå®¢æ¡†æ¶ï¼Œæ­å»ºå±äºæˆ‘ä»¬è‡ªå·±çš„ä¸ªäººåšå®¢ã€‚</p></blockquote><h1 id="å‰ç«¯æ¡†æ¶"><a href="#å‰ç«¯æ¡†æ¶" class="headerlink" title="å‰ç«¯æ¡†æ¶"></a>å‰ç«¯æ¡†æ¶</h1><blockquote><p>ä¸ºäº†å¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ­å»ºæ‰€éœ€çš„ç½‘ç«™ï¼Œè¿™é‡Œæä¾›çš„å‡ ç§ç›®å‰å¸‚é¢ä¸Šæ¯”è¾ƒç«çš„åšå®¢æ¡†æ¶ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿçš„ç”Ÿæˆæ‰€éœ€çš„é™æ€ç½‘é¡µã€‚</p></blockquote><ul><li><a href="https://hexo.io/zh-cn/docs/">Hexo</a> æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚<br>Hexoçš„ä¸»é¢˜æ ·å¼ä¹Ÿæœ‰å¾ˆå¤šå¥½çœ‹çš„ï¼Œè€Œä¸”githubéƒ½æœ‰starä¸Šä¸‡çš„ã€‚</li><li><a href="https://wordpress.org/">Wordpress</a> æ˜¯ä½¿ç”¨PHPè¯­è¨€å¼€å‘çš„åšå®¢å¹³å°ï¼Œç”¨æˆ·å¯ä»¥åœ¨æ”¯æŒPHPå’ŒMySQLæ•°æ®åº“çš„æœåŠ¡å™¨ä¸Šæ¶è®¾å±äºè‡ªå·±çš„ç½‘ç«™ã€‚æœ‰ç€è®¸å¤šç¬¬ä¸‰æ–¹å¼€å‘çš„å…è´¹æ¨¡æ¿ï¼Œå®‰è£…æ–¹å¼ç®€å•æ˜“ç”¨ã€‚</li><li><a href="https://vuepress.vuejs.org/">Vuepress</a> ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä¸€ä¸ªä»¥ Vue é©±åŠ¨çš„ä¸»é¢˜ç³»ç»Ÿçš„ç®€çº¦é™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·ï¼Œå’Œä¸€ä¸ªä¸ºç¼–å†™æŠ€æœ¯æ–‡æ¡£è€Œä¼˜åŒ–çš„é»˜è®¤ä¸»é¢˜ã€‚å®ƒæ˜¯ä¸ºäº†æ”¯æŒ Vue å­é¡¹ç›®çš„æ–‡æ¡£éœ€æ±‚è€Œåˆ›å»ºçš„ã€‚</li><li><a href="https://www.docusaurus.cn/">Docusaurus</a> æ˜¯ä¸€ä¸ªé™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼ŒåŸºäº React æŠ€æœ¯æ„å»ºï¼Œç¼–è¯‘æˆçš„æ˜¯é™æ€çš„ HTML cssï¼Œæ”¯æŒ Markdown è¯­æ³•ã€‚</li><li><a href="https://d.umijs.org/zh-CN">Dumi</a> æ˜¯ä¸€æ¬¾ä¸ºç»„ä»¶å¼€å‘åœºæ™¯è€Œç”Ÿçš„æ–‡æ¡£å·¥å…·ï¼Œä¸ <a href="https://github.com/umijs/father">father</a> ä¸€èµ·ä¸ºå¼€å‘è€…æä¾›ä¸€ç«™å¼çš„ç»„ä»¶å¼€å‘ä½“éªŒï¼Œfather è´Ÿè´£æ„å»ºï¼Œè€Œ dumi è´Ÿè´£ç»„ä»¶å¼€å‘åŠç»„ä»¶æ–‡æ¡£ç”Ÿæˆã€‚</li></ul><h1 id="éƒ¨ç½²æ–¹æ¡ˆ"><a href="#éƒ¨ç½²æ–¹æ¡ˆ" class="headerlink" title="éƒ¨ç½²æ–¹æ¡ˆ"></a>éƒ¨ç½²æ–¹æ¡ˆ</h1><blockquote><p>å½“ç„¶éƒ¨ç½²æ–¹æ¡ˆæœ‰å¾ˆå¤šï¼Œåœ¨æœåŠ¡å™¨ä¸ç”¨è‡ªå·±æ­å»ºçš„çš„åŸºç¡€ä¸Šï¼Œæ— éå°±æ˜¯æ‰¾åˆ°å¯ä»¥å®ç°å…è´¹æ‰˜ç®¡çš„äº‘å‚å•†è¿›è¡Œæ‰˜ç®¡å‰ç«¯é™æ€èµ„æºï¼Œç”Ÿæˆå¯ä¾›è®¿é—®çš„åŸŸåã€‚</p></blockquote><p>è¿™é‡Œä»…åˆ—å‡ºå‡ ç§æ–¹æ¡ˆï¼Œä¾›å‚è€ƒã€‚</p><ul><li><a href="https://pages.github.com/">Github Pages</a></li><li><a href="https://vercel.com/">Vercel</a></li><li><a href="https://coding.net/">Coding</a></li><li>Serverlessï¼ˆæ— æœåŠ¡å™¨ï¼ŒæŒ‰é‡ä»˜è´¹ï¼‰<ul><li><a href="http://serverless-devs.com/">Serverless Devs é˜¿é‡Œäº‘</a></li><li><a href="https://www.serverless.com/cn/">Serverless Framework è…¾è®¯äº‘</a></li></ul></li></ul><!-- - Serverless- [å†…å®¹åˆ†å‘ç½‘ç»œCDN](https://www.aliyun.com/product/cdn) + [å¯¹è±¡å­˜å‚¨OSS](https://www.aliyun.com/product/oss)- [é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—FC](https://www.aliyun.com/product/fc) --><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><blockquote><p>ä¸Šè¯‰åšå®¢æ¡†æ¶ä»¥åŠéƒ¨ç½²æ–¹æ¡ˆä»»é€‰å…¶ä¸€ï¼Œä¸‹é¢ä»…ä»¥ <code>Hexo </code>  ä¸ºä¾‹ï¼Œåš <code>Github Pages</code> éƒ¨ç½²æ–¹æ¡ˆçš„ä»‹ç»ï¼Œæ„Ÿå…´è¶£å¯ä»¥è‡ªè¡Œäº†è§£å…¶ä»–æ¡†æ¶çš„ä½¿ç”¨ã€‚</p></blockquote><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><p>å®‰è£… Hexo ç›¸å½“ç®€å•ï¼Œåªéœ€è¦å…ˆå®‰è£…ä¸‹åˆ—åº”ç”¨ç¨‹åºå³å¯ï¼š</p><ul><li><a href="https://nodejs.org/en/">Node.js</a> (Node.js ç‰ˆæœ¬éœ€ä¸ä½äº 10.13ï¼Œå»ºè®®ä½¿ç”¨ Node.js 12.0 åŠä»¥ä¸Šç‰ˆæœ¬)</li><li><a href="http://git-scm.com/">Git</a></li></ul><p><img src="https://hfscdn.vercel.app/blog/image/node-git-version.jpg" alt="iamge"></p><p>å¦‚å›¾ï¼Œå¦‚æœæ‚¨çš„ç”µè„‘ä¸­å·²ç»å®‰è£…ä¸Šè¿°å¿…å¤‡ç¨‹åºï¼Œé‚£ä¹ˆæ­å–œæ‚¨ï¼ä½ å¯ä»¥ç›´æ¥å‰å¾€å®‰è£… <a href="#%E5%AE%89%E8%A3%85-Hexo">å®‰è£… Hexo</a>ã€‚</p><h3 id="å®‰è£…-Git"><a href="#å®‰è£…-Git" class="headerlink" title="- å®‰è£… Git"></a>- å®‰è£… Git</h3><p>Windowsï¼šä¸‹è½½å¹¶å®‰è£…<a href="https://git-scm.com/download/win">Git</a><br>Macï¼šä½¿ç”¨ <a href="https://brew.sh/">Homebrew</a>, <a href="https://www.macports.org/">MacPorts</a> æˆ–è€…ä¸‹è½½<a href="https://sourceforge.net/projects/git-osx-installer/">å®‰è£…ç¨‹åº</a>ã€‚<br>Linux (Ubuntu, Debian)ï¼š<code>sudo apt-get install git-core</code><br>Linux (Fedora, Red Hat, CentOS)ï¼š<code>sudo yum install git-core</code></p><h3 id="å®‰è£…-Node-js"><a href="#å®‰è£…-Node-js" class="headerlink" title="- å®‰è£… Node.js"></a>- å®‰è£… Node.js</h3><p>Node.js ä¸ºå¤§å¤šæ•°å¹³å°æä¾›äº†å®˜æ–¹çš„<a href="https://nodejs.org/en/download/">å®‰è£…ç¨‹åº</a>ã€‚å¯¹äºä¸­å›½å¤§é™†åœ°åŒºç”¨æˆ·ï¼Œå¯ä»¥å‰å¾€<a href="https://npm.taobao.org/mirrors/node">æ·˜å® Node.js é•œåƒ</a>ä¸‹è½½ã€‚</p><p>å…¶å®ƒçš„å®‰è£…æ–¹æ³•ï¼š</p><p>Windowsï¼šé€šè¿‡ <a href="https://github.com/jasongin/nvs/">nvs</a>ï¼ˆæ¨èï¼‰æˆ–è€… <a href="https://github.com/nvm-sh/nvm">nvm</a> å®‰è£…ã€‚<br>Macï¼šä½¿ç”¨ <a href="https://brew.sh/">Homebrew</a> æˆ– <a href="https://www.macports.org/">MacPorts</a> å®‰è£…ã€‚<br>Linuxï¼ˆDEB/RPM-basedï¼‰ï¼šä» <a href="https://github.com/nodesource/distributions">NodeSource</a> å®‰è£…ã€‚<br>å…¶å®ƒï¼šä½¿ç”¨ç›¸åº”çš„è½¯ä»¶åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ï¼Œå¯ä»¥å‚è€ƒç”± Node.js æä¾›çš„ <a href="https://nodejs.org/en/download/package-manager/">æŒ‡å¯¼</a>ã€‚</p><h2 id="æ­å»º"><a href="#æ­å»º" class="headerlink" title="æ­å»º"></a>æ­å»º</h2><h3 id="å®‰è£…-Hexo"><a href="#å®‰è£…-Hexo" class="headerlink" title="- å®‰è£… Hexo"></a>- å®‰è£… Hexo</h3><p>æ‰€æœ‰å¿…å¤‡çš„åº”ç”¨ç¨‹åºå®‰è£…å®Œæˆåï¼Œå³å¯ä½¿ç”¨ <code>npm</code> å®‰è£… <code>Hexo</code>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure><h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="- åˆå§‹åŒ–"></a>- åˆå§‹åŒ–</h3><p>å®‰è£… <code>Hexo</code> å®Œæˆåï¼Œè¯·æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œ<code>Hexo</code> å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo init &lt;folder&gt; &#x2F;&#x2F; åˆå§‹åŒ–ï¼Œå¦‚ hexo init blog</span><br><span class="line">cd &lt;folder&gt;</span><br><span class="line">npm install &#x2F;&#x2F; å¯é€‰ï¼Œhexo åˆå§‹åŒ–é»˜è®¤ä¼šè‡ªåŠ¨å®‰è£…ç›¸å…³ä¾èµ–</span><br><span class="line">hexo server &#x2F;&#x2F; æœ¬åœ°å¯åŠ¨</span><br></pre></td></tr></table></figure><p><img src="https://hfscdn.vercel.app/blog/image/hexo-server.jpg" alt="hexo"><br>æœ¬åœ°å¯åŠ¨åï¼Œå‡ºç°ä¸Šå³å¯åŠ¨æˆåŠŸï¼Œæµè§ˆå™¨ç™»å½•å›¾ç¤º <code>http://localhost:4000</code> åœ°å€å³å¯æœ¬åœ°è®¿é—®ã€‚</p><p>æ›´å¤šé…ç½®ä¿¡æ¯è§ <a href="https://hexo.io/zh-cn/docs/">Hexo é…ç½®</a></p><h2 id="éƒ¨ç½²ï¼ˆGithub-Pageï¼‰"><a href="#éƒ¨ç½²ï¼ˆGithub-Pageï¼‰" class="headerlink" title="éƒ¨ç½²ï¼ˆGithub Pageï¼‰"></a>éƒ¨ç½²ï¼ˆGithub Pageï¼‰</h2><blockquote><p>ä¸Šé¢å·²ç»æŠŠé™æ€é¡µé¢æ­å»ºå®Œæ¯•ï¼Œæ¥ä¸‹æ¥åªéœ€æŠŠä»£ç éƒ¨ç½²åˆ°æŒ‡å®šäº‘å‚å•†æ‰˜ç®¡å³å¯ï¼Œä»¥ä¸‹æä¾›ä¸‰ç§éƒ¨ç½²æ–¹æ¡ˆï¼Œä»…ä¾›å‚è€ƒã€‚</p></blockquote><h3 id="Github-åˆ›å»º-repository"><a href="#Github-åˆ›å»º-repository" class="headerlink" title="- Github åˆ›å»º repository"></a>- Github åˆ›å»º repository</h3><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ å°† <code>Hexo</code> åšå®¢éƒ¨ç½²åˆ° <code>GitHub Pages</code> ä¸Šã€‚</p><ul><li><a href="https://github.com/new">æ–°å»º</a>ä¸€ä¸ª repositoryã€‚å¦‚æœä½ å¸Œæœ›ä½ çš„ç«™ç‚¹èƒ½é€šè¿‡ &lt;ä½ çš„ GitHub ç”¨æˆ·å&gt;.github.io åŸŸåè®¿é—®ï¼Œä½ çš„ repository åº”è¯¥ç›´æ¥å‘½åä¸º &lt;ä½ çš„ GitHub ç”¨æˆ·å&gt;.github.ioï¼Œå¦‚æˆ‘çš„ Github ç”¨æˆ·åä¸º<code>huangfushan</code>, repository å³ <code>huangfushan.github.io</code>ã€‚</li><li>é»˜è®¤æƒ…å†µä¸‹ä¸åº”è¯¥ public ç›®å½•å°†ä¸ä¼šè¢«æ¨é€åˆ° repository ä¸­ï¼Œä½ åº”è¯¥æ£€æŸ¥ .gitignore æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å« public ä¸€è¡Œï¼Œå¦‚æœæ²¡æœ‰è¯·åŠ ä¸Šã€‚</li><li>é¦–æ¬¡ä½¿ç”¨ <code>Github</code> å¯èƒ½éœ€è¦<a href="https://github.com/settings/ssh/new">ç»‘å®š SSH Key å¯†åŒ™</a>ï¼Œè‹¥æ— å¯†åŒ™è§ <a href="/2021/04/25/git/">ç”Ÿæˆ SSH Key å¯†åŒ™</a></li></ul><h3 id="Hexo-éƒ¨ç½²åˆ°-Github-Page"><a href="#Hexo-éƒ¨ç½²åˆ°-Github-Page" class="headerlink" title="- Hexo éƒ¨ç½²åˆ° Github Page"></a>- Hexo éƒ¨ç½²åˆ° Github Page</h3><ul><li>å®‰è£… <a href="https://github.com/hexojs/hexo-deployer-git">hexo-deployer-git</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save </span><br></pre></td></tr></table></figure></li><li>ä¿®æ”¹é…ç½® _config.yml<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: &lt;repository url&gt; # https:&#x2F;&#x2F;github.com&#x2F;ä½ çš„ GitHub ç”¨æˆ·å&#x2F;ä½ çš„ GitHub ç”¨æˆ·å.github.io.git</span><br></pre></td></tr></table></figure></li><li>éƒ¨ç½²<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate &#x2F;&#x2F; ç¼–è¯‘</span><br><span class="line">hexo deploy &#x2F;&#x2F; éƒ¨ç½²</span><br></pre></td></tr></table></figure><img src="https://hfscdn.vercel.app/blog/image/hexo-deploy.jpg" alt="deploy"></li><li>è®¿é—® https://ä½ çš„ GitHub ç”¨æˆ·å.github.ioï¼Œå¦‚ <a href="https://huangfushan.github.io/">https://huangfushan.github.io</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git æŒ‡ä»¤</title>
      <link href="2021/04/25/git/"/>
      <url>2021/04/25/git/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Git-æŒ‡ä»¤"><a href="#Git-æŒ‡ä»¤" class="headerlink" title="Git æŒ‡ä»¤"></a>Git æŒ‡ä»¤</h1><h2 id="è®¾ç½®ç”¨æˆ·åä¸é‚®ç®±"><a href="#è®¾ç½®ç”¨æˆ·åä¸é‚®ç®±" class="headerlink" title="è®¾ç½®ç”¨æˆ·åä¸é‚®ç®±"></a>è®¾ç½®ç”¨æˆ·åä¸é‚®ç®±</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;name&lt;è‡ªå·±çš„ç”¨æˆ·å&gt;&quot;</span><br><span class="line">git config --global user.email &quot;email&lt;è‡ªå·±çš„é‚®ç®±&gt;&quot;</span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆ-SSH-Key-å¯†åŒ™"><a href="#ç”Ÿæˆ-SSH-Key-å¯†åŒ™" class="headerlink" title="ç”Ÿæˆ SSH Key å¯†åŒ™"></a>ç”Ÿæˆ SSH Key å¯†åŒ™</h2><blockquote><p>cd åˆ° ~/.ssh ç›®å½•ä¸‹æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ id_rsa.pub æ–‡ä»¶</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~&#x2F;.ssh</span><br><span class="line">$ ls</span><br><span class="line">  id_rsa id_rsa.pub</span><br></pre></td></tr></table></figure><blockquote><p>è‹¥ä¸å­˜åœ¨ï¼Œæ‰§è¡Œ</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;emai&lt;è‡ªå·±çš„é‚®ç®±&gt;&quot;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è‹¥æ¶‰åŠæƒé™</span><br><span class="line">sudo ssh-keygen -t rsa -C &quot;emai&lt;è‡ªå·±çš„é‚®ç®±&gt;&quot; </span><br></pre></td></tr></table></figure><p>æ‰§è¡ŒæˆåŠŸåæ‰§è¡Œ <code>cat ~/.ssh/id_rsa.pub</code>æŸ¥çœ‹å¯†åŒ™ï¼Œå¦‚ä¸‹å›¾ã€‚<br><img src="https://hfscdn.vercel.app/blog/image/image/image/ssh-key.jpg" alt="SSH KEY"></p><h2 id="ç»‘å®šè¿œç¨‹ä»“åº“"><a href="#ç»‘å®šè¿œç¨‹ä»“åº“" class="headerlink" title="ç»‘å®šè¿œç¨‹ä»“åº“"></a>ç»‘å®šè¿œç¨‹ä»“åº“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin &quot;https:&#x2F;&#x2F;github.com&#x2F;xxx&#x2F;xxx.git&quot; &#x2F;&#x2F; åˆæ¬¡ç»‘å®š</span><br><span class="line">git remote set-url origin &quot;new repository&quot; &#x2F;&#x2F; ä¿®æ”¹è¿œç¨‹ä»“åº“</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨æŒ‡ä»¤"><a href="#å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="å¸¸ç”¨æŒ‡ä»¤"></a>å¸¸ç”¨æŒ‡ä»¤</h2><h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><h4 id="åˆ›å»ºåˆ†æ”¯"><a href="#åˆ›å»ºåˆ†æ”¯" class="headerlink" title="- åˆ›å»ºåˆ†æ”¯"></a>- åˆ›å»ºåˆ†æ”¯</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitÂ checkoutÂ -bÂ &lt;åˆ†æ”¯å&gt;</span><br></pre></td></tr></table></figure><h4 id="åˆ‡æ¢åˆ†æ”¯"><a href="#åˆ‡æ¢åˆ†æ”¯" class="headerlink" title="- åˆ‡æ¢åˆ†æ”¯"></a>- åˆ‡æ¢åˆ†æ”¯</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;åˆ†æ”¯å&gt;</span><br></pre></td></tr></table></figure><h4 id="æ‹‰å–åˆå¹¶"><a href="#æ‹‰å–åˆå¹¶" class="headerlink" title="- æ‹‰å–åˆå¹¶"></a>- æ‹‰å–åˆå¹¶</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin</span><br><span class="line">git merge origin&#x2F;&lt;åˆ†æ”¯å&gt;</span><br><span class="line">æˆ–</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><h4 id="æ·»åŠ æš‚å­˜åŒº"><a href="#æ·»åŠ æš‚å­˜åŒº" class="headerlink" title="- æ·»åŠ æš‚å­˜åŒº"></a>- æ·»åŠ æš‚å­˜åŒº</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add . &#x2F;&#x2F; æ·»åŠ æ‰€æœ‰åˆ°æš‚å­˜åŒº</span><br><span class="line">git add &lt;åˆ†æ”¯å&gt; &#x2F;&#x2F; æ·»åŠ æŒ‡å®šåˆ†æ”¯åˆ°æš‚å­˜å–</span><br></pre></td></tr></table></figure><h4 id="commit"><a href="#commit" class="headerlink" title="- commit"></a>- commit</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;æäº¤æ—¥å¿—&quot; &#x2F;&#x2F; ä»…æš‚å­˜åŒºä»£ç  commit</span><br><span class="line">git commit -am &quot;&quot; &#x2F;&#x2F; æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒºï¼Œå¹¶ commit </span><br></pre></td></tr></table></figure><h4 id="æäº¤è¿œç¨‹"><a href="#æäº¤è¿œç¨‹" class="headerlink" title="- æäº¤è¿œç¨‹"></a>- æäº¤è¿œç¨‹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br><span class="line">&#x2F;&#x2F; å¼ºåˆ¶æäº¤</span><br><span class="line">git push -f </span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹åˆ†æ”¯"><a href="#æŸ¥çœ‹åˆ†æ”¯" class="headerlink" title="- æŸ¥çœ‹åˆ†æ”¯"></a>- æŸ¥çœ‹åˆ†æ”¯</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch  &#x2F;&#x2F; æŸ¥çœ‹æœ¬åœ°</span><br><span class="line">git branch -a  &#x2F;&#x2F; æŸ¥çœ‹è¿œç¨‹</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤åˆ†æ”¯"><a href="#åˆ é™¤åˆ†æ”¯" class="headerlink" title="- åˆ é™¤åˆ†æ”¯"></a>- åˆ é™¤åˆ†æ”¯</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git branch -d &lt;åˆ†æ”¯å&gt; &#x2F;&#x2F; åˆ é™¤æœ¬åœ°åˆ†æ”¯</span><br><span class="line">git branch -D &lt;åˆ†æ”¯å&gt; &#x2F;&#x2F; å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯</span><br><span class="line">git push origin -d &lt;åˆ†æ”¯å&gt; &#x2F;&#x2F; åˆ é™¤è¿œç¨‹</span><br></pre></td></tr></table></figure><h3 id="æ’¤é”€"><a href="#æ’¤é”€" class="headerlink" title="æ’¤é”€"></a>æ’¤é”€</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git reset &lt;æ–‡ä»¶å&gt;Â &#x2F;&#x2F; æ–‡ä»¶å–æ¶ˆæš‚å­˜åŒº</span><br><span class="line">gitÂ reset HEADÂ &#x2F;&#x2F; å–æ¶ˆæ‰€æœ‰æš‚å­˜å–</span><br><span class="line">gitÂ resetÂ --softÂ HEAD^Â &#x2F;&#x2F; æ’¤é”€ä¸Šä¸€æ¬¡ commitï¼Œå¹¶ä¸”å¯ä»¥é‡æ–° commit</span><br></pre></td></tr></table></figure><h3 id="æœ¬åœ°æš‚å­˜"><a href="#æœ¬åœ°æš‚å­˜" class="headerlink" title="æœ¬åœ°æš‚å­˜"></a>æœ¬åœ°æš‚å­˜</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;éœ€è¦æš‚å­˜çš„æ–‡ä»¶&gt; &#x2F;&#x2F; æ·»åŠ éœ€è¦æš‚å­˜çš„æ–‡ä»¶</span><br><span class="line">gitÂ stashÂ commitÂ &quot;æš‚å­˜æ—¥å¿—&quot; &#x2F;&#x2F; commit </span><br><span class="line">git stash list &#x2F;&#x2F; æŸ¥çœ‹æ‰€æœ‰æš‚å­˜çš„ commit è®°å½•</span><br><span class="line">git stash pop &#x2F;&#x2F; æå–æœ€æ–°ä¸€æ¡æš‚å­˜è®°å½•ï¼Œæå–æŒ‡å®šæŸæ¡æœ‰ç‚¹é—®é¢˜ï¼Œæš‚æ—¶ä¸çŸ¥é“æ€ä¹ˆæå–</span><br></pre></td></tr></table></figure><h3 id="å›æ»š"><a href="#å›æ»š" class="headerlink" title="å›æ»š"></a>å›æ»š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 1ã€ä¼šåˆ é™¤ä»£ç ï¼Œcommit è®°å½•ä¸ä¿ç•™</span><br><span class="line">git reset â€”-hard &lt;commit id&gt; &#x2F;&#x2F; å›æ»šåˆ°æŒ‡å®š commit</span><br><span class="line">git push -f &#x2F;&#x2F; å¼ºåˆ¶æäº¤ï¼Œè¿œç¨‹ä»“åº“å°†å›æ»š</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 2ã€ä¼šè¦†ç›–ä»£ç ï¼Œcommit è®°å½•ä¿ç•™</span><br><span class="line">git revert &lt;commit id&gt; &#x2F;&#x2F; ç”¨æ–°çš„ commit æ¥å›æ»šä¹‹å‰çš„ commit</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨-gitignore-æ— æ•ˆçš„è§£å†³æ–¹æ³•ã€å·²æ‰˜ç®¡åœ¨gitä¸Šçš„æ–‡ä»¶ï¼Œéœ€è¦ä¿æŒåˆ°æœ¬åœ°ä»“åº“ã€‘"><a href="#ä½¿ç”¨-gitignore-æ— æ•ˆçš„è§£å†³æ–¹æ³•ã€å·²æ‰˜ç®¡åœ¨gitä¸Šçš„æ–‡ä»¶ï¼Œéœ€è¦ä¿æŒåˆ°æœ¬åœ°ä»“åº“ã€‘" class="headerlink" title="ä½¿ç”¨.gitignore æ— æ•ˆçš„è§£å†³æ–¹æ³•ã€å·²æ‰˜ç®¡åœ¨gitä¸Šçš„æ–‡ä»¶ï¼Œéœ€è¦ä¿æŒåˆ°æœ¬åœ°ä»“åº“ã€‘"></a>ä½¿ç”¨.gitignore æ— æ•ˆçš„è§£å†³æ–¹æ³•ã€å·²æ‰˜ç®¡åœ¨gitä¸Šçš„æ–‡ä»¶ï¼Œéœ€è¦ä¿æŒåˆ°æœ¬åœ°ä»“åº“ã€‘</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached . &#x2F;&#x2F; æ‰€æœ‰æ–‡ä»¶</span><br><span class="line">git rm -r --cached &lt;æ–‡ä»¶å&gt; &#x2F;&#x2F; æŒ‡å®šæ–‡ä»¶</span><br><span class="line">git add .</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
